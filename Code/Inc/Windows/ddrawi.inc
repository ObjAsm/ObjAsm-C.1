;Include file created by h2incX, Version B.01.01, 10/09/2018 22:03
;(C) 2018-today by Biterider, 2005-2009 by Japheth
;Source file: '\ObjAsm\Projects\h2IncX\header\ddrawi.h', last modified: 19/04/2018 22:37
;Creation parameters: 

ifndef __DDRAWI_INCLUDED__
  __DDRAWI_INCLUDED__ equ <>
  include winapifamily.inc
  if WINAPI_FAMILY_PARTITION(WINAPI_PARTITION_DESKTOP)
    if ( not Defined(WIN95)) and ( not Defined(WINNT))
      WIN95 equ <>
    endif
    OBJECT_ISROOT equ 80000000h
    ifndef _WIN32
      ;[...]
    endif
    ifndef MAXULONG_PTR
      ULONG_PTR equ <DWORD>
      PULONG_PTR equ <LPDWORD>
    endif
    include ddraw.inc
    include dvp.inc
    include ddkernel.inc
    include dmemmgr.inc
    ifdef IS_16
      LPD3DHAL_GLOBALDRIVERDATA equ <ULONG_PTR>
      LPD3DHAL_CALLBACKS equ <ULONG_PTR>
      LPD3DHAL_CALLBACKS2 equ <ULONG_PTR>
      LPD3DHAL_CALLBACKS3 equ <ULONG_PTR>
      LPD3DHAL_D3DEXTENDEDCAPS equ <ULONG_PTR>
      LPD3DHAL_COMMANDBUFFERCALLBACKS equ <ULONG_PTR>
    endif
    ifndef _WIN32
      ;[...]
    endif
    DDUNSUPPORTEDMODE equ (- 1)
    VALID_ALIGNMENT macro align_
      exitm <(! ((align_ == 0) or (align_ % 2) != 0))>
    endm
    ifdef _WIN32
      DEFINE_GUID GUID_MiscellaneousCallbacks, 0efd60cc0h, 49e7h, 11d0h, 88h, 9dh, 00h, 0aah, 00h, 0bbh, 0b7h, 6ah
      DEFINE_GUID GUID_VideoPortCallbacks, 0efd60cc1h, 49e7h, 11d0h, 88h, 9dh, 00h, 0aah, 00h, 0bbh, 0b7h, 6ah
      DEFINE_GUID GUID_ColorControlCallbacks, 0efd60cc2h, 49e7h, 11d0h, 88h, 9dh, 00h, 0aah, 00h, 0bbh, 0b7h, 6ah
      DEFINE_GUID GUID_VideoPortCaps, 0efd60cc3h, 49e7h, 11d0h, 88h, 9dh, 00h, 0aah, 00h, 0bbh, 0b7h, 6ah
      DEFINE_GUID GUID_D3DCallbacks2, 0ba584e1h, 70b6h, 11d0h, 88h, 9dh, 00h, 0aah, 00h, 0bbh, 0b7h, 6ah
      DEFINE_GUID GUID_D3DCallbacks3, 0ddf41230h, 0ec0ah, 11d0h, 0a9h, 0b6h, 00h, 0aah, 00h, 0c0h, 99h, 3eh
      DEFINE_GUID GUID_NonLocalVidMemCaps, 86c4fa80h, 8d84h, 11d0h, 94h, 0e8h, 00h, 0c0h, 4fh, 0c3h, 41h, 37h
      DEFINE_GUID GUID_KernelCallbacks, 80863800h, 6B06h, 11D0h, 9Bh, 06h, 0h, 0A0h, 0C9h, 03h, 0A3h, 0B8h
      DEFINE_GUID GUID_KernelCaps, 0FFAA7540h, 7AA8h, 11D0h, 9Bh, 06h, 00h, 0A0h, 0C9h, 03h, 0A3h, 0B8h
      DEFINE_GUID GUID_D3DExtendedCaps, 7de41f80h, 9d93h, 11d0h, 89h, 0abh, 0h, 0a0h, 0c9h, 5h, 41h, 29h
      DEFINE_GUID GUID_ZPixelFormats, 93869880h, 36cfh, 11d1h, 9bh, 1bh, 0h, 0aah, 0h, 0bbh, 0b8h, 0aeh
      DEFINE_GUID GUID_DDMoreSurfaceCaps, 3b8a0466h, 0f269h, 11d1h, 88h, 0bh, 0h, 0c0h, 4fh, 0d9h, 30h, 0c5h
      DEFINE_GUID GUID_DDStereoMode, 0f828169ch, 0a8e8h, 11d2h, 0a1h, 0f2h, 0h, 0a0h, 0c9h, 83h, 0eah, 0f6h
      DEFINE_GUID GUID_OptSurfaceKmodeInfo, 0e05c8472h, 51d4h, 11d1h, 8ch, 0ceh, 0h, 0a0h, 0c9h, 6h, 29h, 0a8h
      DEFINE_GUID GUID_OptSurfaceUmodeInfo, 9d792804h, 5fa8h, 11d1h, 8ch, 0d0h, 0h, 0a0h, 0c9h, 6h, 29h, 0a8h
      DEFINE_GUID GUID_UserModeDriverInfo, 0f0b0e8e2h, 5f97h, 11d1h, 8ch, 0d0h, 0h, 0a0h, 0c9h, 6h, 29h, 0a8h
      DEFINE_GUID GUID_UserModeDriverPassword, 97f861b6h, 60a1h, 11d1h, 8ch, 0d0h, 0h, 0a0h, 0c9h, 6h, 29h, 0a8h
      DEFINE_GUID GUID_D3DParseUnknownCommandCallback, 2e04ffa0h, 98e4h, 11d1h, 8ch, 0e1h, 0h, 0a0h, 0c9h, 6h, 29h, 0a8h
      DEFINE_GUID GUID_MotionCompCallbacks, 0b1122b40h, 5dA5h, 11d1h, 8fh, 0cFh, 00h, 0c0h, 4fh, 0c2h, 9bh, 4eh
      DEFINE_GUID GUID_Miscellaneous2Callbacks, 406B2F00h, 3E5Ah, 11D1h, 0B6h, 40h, 00h, 0AAh, 00h, 0A1h, 0F9h, 6Ah
    endif
    ifdef __cplusplus
      ;[...]
    endif
    D3DParseUnknownCommand proto WIN_STD_CALL_CONV :LPVOID, :ptr LPVOID
    DDPF_NOVEL_TEXTURE_FORMAT equ 00100000h
    DDPF_D3DFORMAT equ 00200000h
    D3DFORMAT_OP_TEXTURE equ 00000001h
    D3DFORMAT_OP_VOLUMETEXTURE equ 00000002h
    D3DFORMAT_OP_CUBETEXTURE equ 00000004h
    D3DFORMAT_OP_OFFSCREEN_RENDERTARGET equ 00000008h
    D3DFORMAT_OP_SAME_FORMAT_RENDERTARGET equ 00000010h
    D3DFORMAT_OP_ZSTENCIL equ 00000040h
    D3DFORMAT_OP_ZSTENCIL_WITH_ARBITRARY_COLOR_DEPTH equ 00000080h
    D3DFORMAT_OP_SAME_FORMAT_UP_TO_ALPHA_RENDERTARGET equ 00000100h
    D3DFORMAT_OP_DISPLAYMODE equ 00000400h
    D3DFORMAT_OP_3DACCELERATION equ 00000800h
    D3DFORMAT_OP_PIXELSIZE equ 00001000h
    D3DFORMAT_OP_CONVERT_TO_ARGB equ 00002000h
    D3DFORMAT_OP_OFFSCREENPLAIN equ 00004000h
    D3DFORMAT_OP_SRGBREAD equ 00008000h
    D3DFORMAT_OP_BUMPMAP equ 00010000h
    D3DFORMAT_OP_DMAP equ 00020000h
    D3DFORMAT_OP_NOFILTER equ 00040000h
    D3DFORMAT_MEMBEROFGROUP_ARGB equ 00080000h
    D3DFORMAT_OP_SRGBWRITE equ 00100000h
    D3DFORMAT_OP_NOALPHABLEND equ 00200000h
    D3DFORMAT_OP_AUTOGENMIPMAP equ 00400000h
    D3DFORMAT_OP_VERTEXTEXTURE equ 00800000h
    D3DFORMAT_OP_NOTEXCOORDWRAPNORMIP equ 01000000h
    PROCESS_LIST struct
      lpLink POINTER ?
      dwProcessId DWORD ?
      dwRefCnt DWORD ?
      dwAlphaDepth DWORD ?
      dwZDepth DWORD ?
    PROCESS_LIST ends

    _PROCESS_LIST typedef PROCESS_LIST
    LPPROCESS_LIST typedef ptr PROCESS_LIST
    DDMONITORINFO struct
      Manufacturer WORD ?
      Product WORD ?
      SerialNumber DWORD ?
      DeviceIdentifier GUID <>
      Mode640x480 SDWORD ?
      Mode800x600 SDWORD ?
      Mode1024x768 SDWORD ?
      Mode1280x1024 SDWORD ?
      Mode1600x1200 SDWORD ?
      ModeReserved1 SDWORD ?
      ModeReserved2 SDWORD ?
      ModeReserved3 SDWORD ?
    DDMONITORINFO ends

    _DDMONITORINFO typedef DDMONITORINFO
    LPDDMONITORINFO typedef ptr DDMONITORINFO
    
    DELETED_OK equ 0
    DELETED_LASTONE equ 1
    DELETED_NOTFOUND equ 2
    DDBLT_ANYALPHA equ <(DDBLT_ALPHASRCSURFACEOVERRIDE or DDBLT_ALPHASRCCONSTOVERRIDE or DDBLT_ALPHASRC or DDBLT_ALPHADESTSURFACEOVERRIDE or DDBLT_ALPHADESTCONSTOVERRIDE or DDBLT_ALPHADEST)>
    DDOVER_ANYALPHA equ <(DDOVER_ALPHASRCSURFACEOVERRIDE or DDOVER_ALPHASRCCONSTOVERRIDE or DDOVER_ALPHASRC or DDOVER_ALPHADESTSURFACEOVERRIDE or DDOVER_ALPHADESTCONSTOVERRIDE or DDOVER_ALPHADEST)>
    DIRECTDRAWCLIPPERCALLBACKS typedef IDirectDrawClipperVtbl
    
    DIRECTDRAWPALETTECALLBACKS typedef IDirectDrawPaletteVtbl
    
    DIRECTDRAWSURFACECALLBACKS typedef IDirectDrawSurfaceVtbl
    
    DIRECTDRAWSURFACE2CALLBACKS typedef IDirectDrawSurface2Vtbl
    
    DIRECTDRAWSURFACE3CALLBACKS typedef IDirectDrawSurface3Vtbl
    
    DIRECTDRAWSURFACE4CALLBACKS typedef IDirectDrawSurface4Vtbl
    
    DIRECTDRAWSURFACE7CALLBACKS typedef IDirectDrawSurface7Vtbl
    
    DIRECTDRAWCOLORCONTROLCALLBACKS typedef IDirectDrawColorControlVtbl
    
    DIRECTDRAWCALLBACKS typedef IDirectDrawVtbl
    
    DIRECTDRAW2CALLBACKS typedef IDirectDraw2Vtbl
    
    DIRECTDRAW4CALLBACKS typedef IDirectDraw4Vtbl
    
    DIRECTDRAW7CALLBACKS typedef IDirectDraw7Vtbl
    
    DIRECTDRAWKERNELCALLBACKS typedef IDirectDrawKernelVtbl
    
    DIRECTDRAWSURFACEKERNELCALLBACKS typedef IDirectDrawSurfaceKernelVtbl
    
    DIRECTDRAWGAMMACONTROLCALLBACKS typedef IDirectDrawGammaControlVtbl
    
    LPDIRECTDRAWCLIPPERCALLBACKS typedef ptr DIRECTDRAWCLIPPERCALLBACKS
    LPDIRECTDRAWPALETTECALLBACKS typedef ptr DIRECTDRAWPALETTECALLBACKS
    LPDIRECTDRAWSURFACECALLBACKS typedef ptr DIRECTDRAWSURFACECALLBACKS
    LPDIRECTDRAWCALLBACKS typedef ptr DIRECTDRAWCALLBACKS
    ifdef __cplusplus
      ;[...]
    endif
    if Defined(IS_32) or Defined(WIN32) or Defined(_WIN32)
      IS_32 equ <>
      DDAPI equ <WINAPI>
      EXTERN_DDAPI equ <WINAPI>
    else
      ;[...]
    endif
    ifndef DCICOMMAND
      DCICOMMAND equ 3075
    endif
    DD_VERSION equ 00000200h
    DD_RUNTIME_VERSION equ 00000902h
    DD_HAL_VERSION equ 0100h
    include dciddi.inc
    DDCREATEDRIVEROBJECT equ 10
    DDGET32BITDRIVERNAME equ 11
    DDNEWCALLBACKFNS equ 12
    DDVERSIONINFO equ 13
    DD32BITDRIVERDATA struct
      szName SBYTE 260 dup (?)
      szEntryPoint SBYTE 64 dup (?)
      dwContext DWORD ?
    DD32BITDRIVERDATA ends

    LPDD32BITDRIVERDATA typedef ptr DD32BITDRIVERDATA
    
    DDVERSIONDATA struct
      dwHALVersion DWORD ?
      dwReserved1 ULONG_PTR ?
      dwReserved2 ULONG_PTR ?
    DDVERSIONDATA ends

    LPDDVERSIONDATA typedef ptr DDVERSIONDATA
    
    TYPE_LPDD32BITDRIVERINIT typedef proto WIN_STD_CALL_CONV :DWORD
    LPDD32BITDRIVERINIT typedef ptr TYPE_LPDD32BITDRIVERINIT
    FLATPTR typedef ULONG_PTR
    DDRAW_DLL_UNLOADED equ 1
    CSECT_HANDLE typedef LPVOID
    ifdef NOUSE_CRITSECTS
      CSECT typedef xxx
    else
      if Defined(IS_32) and  not Defined(_NOCSECT_TYPE)
        CSECT typedef CRITICAL_SECTION
        LPCSECT typedef ptr CSECT
      else
        CSECT struct
          vals DWORD 6 dup (?)
        CSECT ends

        LPCSECT typedef ptr
      endif
    endif
    DDHAL_DRIVER_DLLNAME equ <"DDRAW16.DLL">
    DDHAL_APP_DLLNAME equ <"DDRAW.DLL">
    ifndef CCHDEVICENAME
      CCHDEVICENAME equ 32
    endif
    MAX_DRIVER_NAME equ <CCHDEVICENAME>
    MAX_PALETTE_SIZE equ 256
    MAX_AUTOFLIP_BUFFERS equ 10
    DDSCAPS_EXECUTEBUFFER equ <DDSCAPS_RESERVED2>
    DDSCAPS2_VERTEXBUFFER equ <DDSCAPS2_RESERVED1>
    DDSCAPS2_COMMANDBUFFER equ <DDSCAPS2_RESERVED2>
    DDSCAPS2_INDEXBUFFER equ <DDSCAPS2_RESERVED3>
    DDSCAPS3_VIDEO equ <DDSCAPS3_RESERVED2>
    D3DFMT_INTERNAL_D32 equ 71
    D3DFMT_INTERNAL_S1D15 equ 72
    D3DFMT_INTERNAL_D15S1 equ 73
    D3DFMT_INTERNAL_S8D24 equ 74
    D3DFMT_INTERNAL_D24S8 equ 75
    D3DFMT_INTERNAL_X8D24 equ 76
    D3DFMT_INTERNAL_D24X8 equ 77
    LPDDHAL_CREATEPALETTEDATA typedef ptr _DDHAL_CREATEPALETTEDATA
    
    LPDDHAL_CREATESURFACEDATA typedef ptr _DDHAL_CREATESURFACEDATA
    
    LPDDHAL_CANCREATESURFACEDATA typedef ptr _DDHAL_CANCREATESURFACEDATA
    
    LPDDHAL_WAITFORVERTICALBLANKDATA typedef ptr _DDHAL_WAITFORVERTICALBLANKDATA
    
    LPDDHAL_DESTROYDRIVERDATA typedef ptr _DDHAL_DESTROYDRIVERDATA
    
    LPDDHAL_SETMODEDATA typedef ptr _DDHAL_SETMODEDATA
    
    LPDDHAL_DRVSETCOLORKEYDATA typedef ptr _DDHAL_DRVSETCOLORKEYDATA
    
    LPDDHAL_GETSCANLINEDATA typedef ptr _DDHAL_GETSCANLINEDATA
    
    LPDDHAL_DESTROYPALETTEDATA typedef ptr _DDHAL_DESTROYPALETTEDATA
    
    LPDDHAL_SETENTRIESDATA typedef ptr _DDHAL_SETENTRIESDATA
    
    LPDDHAL_BLTDATA typedef ptr _DDHAL_BLTDATA
    
    LPDDHAL_LOCKDATA typedef ptr _DDHAL_LOCKDATA
    
    LPDDHAL_UNLOCKDATA typedef ptr _DDHAL_UNLOCKDATA
    
    LPDDHAL_UPDATEOVERLAYDATA typedef ptr _DDHAL_UPDATEOVERLAYDATA
    
    LPDDHAL_SETOVERLAYPOSITIONDATA typedef ptr _DDHAL_SETOVERLAYPOSITIONDATA
    
    LPDDHAL_SETPALETTEDATA typedef ptr _DDHAL_SETPALETTEDATA
    
    LPDDHAL_FLIPDATA typedef ptr _DDHAL_FLIPDATA
    
    LPDDHAL_DESTROYSURFACEDATA typedef ptr _DDHAL_DESTROYSURFACEDATA
    
    LPDDHAL_SETCLIPLISTDATA typedef ptr _DDHAL_SETCLIPLISTDATA
    
    LPDDHAL_ADDATTACHEDSURFACEDATA typedef ptr _DDHAL_ADDATTACHEDSURFACEDATA
    
    LPDDHAL_SETCOLORKEYDATA typedef ptr _DDHAL_SETCOLORKEYDATA
    
    LPDDHAL_GETBLTSTATUSDATA typedef ptr _DDHAL_GETBLTSTATUSDATA
    
    LPDDHAL_GETFLIPSTATUSDATA typedef ptr _DDHAL_GETFLIPSTATUSDATA
    
    LPDDHAL_SETEXCLUSIVEMODEDATA typedef ptr _DDHAL_SETEXCLUSIVEMODEDATA
    
    LPDDHAL_FLIPTOGDISURFACEDATA typedef ptr _DDHAL_FLIPTOGDISURFACEDATA
    
    LPDDHAL_CANCREATEVPORTDATA typedef ptr _DDHAL_CANCREATEVPORTDATA
    
    LPDDHAL_CREATEVPORTDATA typedef ptr _DDHAL_CREATEVPORTDATA
    
    LPDDHAL_FLIPVPORTDATA typedef ptr _DDHAL_FLIPVPORTDATA
    
    LPDDHAL_GETVPORTCONNECTDATA typedef ptr _DDHAL_GETVPORTCONNECTDATA
    
    LPDDHAL_GETVPORTBANDWIDTHDATA typedef ptr _DDHAL_GETVPORTBANDWIDTHDATA
    
    LPDDHAL_GETVPORTINPUTFORMATDATA typedef ptr _DDHAL_GETVPORTINPUTFORMATDATA
    
    LPDDHAL_GETVPORTOUTPUTFORMATDATA typedef ptr _DDHAL_GETVPORTOUTPUTFORMATDATA
    
    LPDDHAL_GETVPORTFIELDDATA typedef ptr _DDHAL_GETVPORTFIELDDATA
    
    LPDDHAL_GETVPORTLINEDATA typedef ptr _DDHAL_GETVPORTLINEDATA
    
    LPDDHAL_DESTROYVPORTDATA typedef ptr _DDHAL_DESTROYVPORTDATA
    
    LPDDHAL_GETVPORTFLIPSTATUSDATA typedef ptr _DDHAL_GETVPORTFLIPSTATUSDATA
    
    LPDDHAL_UPDATEVPORTDATA typedef ptr _DDHAL_UPDATEVPORTDATA
    
    LPDDHAL_WAITFORVPORTSYNCDATA typedef ptr _DDHAL_WAITFORVPORTSYNCDATA
    
    LPDDHAL_GETVPORTSIGNALDATA typedef ptr _DDHAL_GETVPORTSIGNALDATA
    
    LPDDHAL_VPORTCOLORDATA typedef ptr _DDHAL_VPORTCOLORDATA
    
    LPDDHAL_COLORCONTROLDATA typedef ptr _DDHAL_COLORCONTROLDATA
    
    LPDDHAL_GETAVAILDRIVERMEMORYDATA typedef ptr _DDHAL_GETAVAILDRIVERMEMORYDATA
    
    LPDDHAL_UPDATENONLOCALHEAPDATA typedef ptr _DDHAL_UPDATENONLOCALHEAPDATA
    
    LPDDHAL_GETHEAPALIGNMENTDATA typedef ptr _DDHAL_GETHEAPALIGNMENTDATA
    
    LPDDHAL_GETDRIVERINFODATA typedef ptr _DDHAL_GETDRIVERINFODATA
    
    LPDDHAL_SYNCSURFACEDATA typedef ptr _DDHAL_SYNCSURFACEDATA
    
    LPDDHAL_SYNCVIDEOPORTDATA typedef ptr _DDHAL_SYNCVIDEOPORTDATA
    
    LPDDHAL_GETMOCOMPGUIDSDATA typedef ptr _DDHAL_GETMOCOMPGUIDSDATA
    
    LPDDHAL_GETMOCOMPFORMATSDATA typedef ptr _DDHAL_GETMOCOMPFORMATSDATA
    
    LPDDHAL_CREATEMOCOMPDATA typedef ptr _DDHAL_CREATEMOCOMPDATA
    
    LPDDHAL_GETMOCOMPCOMPBUFFDATA typedef ptr _DDHAL_GETMOCOMPCOMPBUFFDATA
    
    LPDDHAL_GETINTERNALMOCOMPDATA typedef ptr _DDHAL_GETINTERNALMOCOMPDATA
    
    LPDDHAL_BEGINMOCOMPFRAMEDATA typedef ptr _DDHAL_BEGINMOCOMPFRAMEDATA
    
    LPDDHAL_ENDMOCOMPFRAMEDATA typedef ptr _DDHAL_ENDMOCOMPFRAMEDATA
    
    LPDDHAL_RENDERMOCOMPDATA typedef ptr _DDHAL_RENDERMOCOMPDATA
    
    LPDDHAL_QUERYMOCOMPSTATUSDATA typedef ptr _DDHAL_QUERYMOCOMPSTATUSDATA
    
    LPDDHAL_DESTROYMOCOMPDATA typedef ptr _DDHAL_DESTROYMOCOMPDATA
    
    LPDDHAL_CREATESURFACEEXDATA typedef ptr _DDHAL_CREATESURFACEEXDATA
    
    LPDDHAL_GETDRIVERSTATEDATA typedef ptr _DDHAL_GETDRIVERSTATEDATA
    
    LPDDHAL_DESTROYDDLOCALDATA typedef ptr _DDHAL_DESTROYDDLOCALDATA
    
    DDHAL_PLEASEALLOC_BLOCKSIZE equ 00000002h
    DDHAL_PLEASEALLOC_LINEARSIZE equ 00000003h
    LateAllocateSurfaceMem proto WIN_STD_CALL_CONV :LPDIRECTDRAWSURFACE, :DWORD, :DWORD, :DWORD
    GetNextMipMap proto WIN_STD_CALL_CONV :LPDIRECTDRAWSURFACE
    VIDMEM struct
      dwFlags DWORD ?
      fpStart FLATPTR ?
      union
        fpEnd FLATPTR ?
        dwWidth DWORD ?
      ends
      ddsCaps DDSCAPS <>
      ddsCapsAlt DDSCAPS <>
      union
        lpHeap LPVMEMHEAP ?
        dwHeight DWORD ?
      ends
    VIDMEM ends

    _VIDMEM typedef VIDMEM
    LPVIDMEM typedef ptr VIDMEM
    VIDMEM_ISLINEAR equ 00000001h
    VIDMEM_ISRECTANGULAR equ 00000002h
    VIDMEM_ISHEAP equ 00000004h
    VIDMEM_ISNONLOCAL equ 00000008h
    VIDMEM_ISWC equ 00000010h
    VIDMEM_HEAPDISABLED equ 00000020h
    VIDMEMINFO struct
      fpPrimary FLATPTR ?
      dwFlags DWORD ?
      dwDisplayWidth DWORD ?
      dwDisplayHeight DWORD ?
      lDisplayPitch LONG ?
      ddpfDisplay DDPIXELFORMAT <>
      dwOffscreenAlign DWORD ?
      dwOverlayAlign DWORD ?
      dwTextureAlign DWORD ?
      dwZBufferAlign DWORD ?
      dwAlphaAlign DWORD ?
      dwNumHeaps DWORD ?
      pvmList LPVIDMEM ?
    VIDMEMINFO ends

    _VIDMEMINFO typedef VIDMEMINFO
    LPVIDMEMINFO typedef ptr VIDMEMINFO
    HEAPALIAS struct
      fpVidMem FLATPTR ?
      lpAlias LPVOID ?
      dwAliasSize DWORD ?
    HEAPALIAS ends

    _HEAPALIAS typedef HEAPALIAS
    LPHEAPALIAS typedef ptr HEAPALIAS
    HEAPALIASINFO struct
      dwRefCnt DWORD ?
      dwFlags DWORD ?
      dwNumHeaps DWORD ?
      lpAliases LPHEAPALIAS ?
    HEAPALIASINFO ends

    _HEAPALIASINFO typedef HEAPALIASINFO
    LPHEAPALIASINFO typedef ptr HEAPALIASINFO
    HEAPALIASINFO_MAPPEDREAL equ 00000001h
    HEAPALIASINFO_MAPPEDDUMMY equ 00000002h
    LPDDRAWI_DIRECTDRAW_INT typedef ptr _DDRAWI_DIRECTDRAW_INT
    
    LPDDRAWI_DIRECTDRAW_LCL typedef ptr _DDRAWI_DIRECTDRAW_LCL
    
    LPDDRAWI_DIRECTDRAW_GBL typedef ptr _DDRAWI_DIRECTDRAW_GBL
    
    LPDDRAWI_DDRAWSURFACE_GBL typedef ptr _DDRAWI_DDRAWSURFACE_GBL
    
    LPDDRAWI_DDRAWSURFACE_GBL_MORE typedef ptr _DDRAWI_DDRAWSURFACE_GBL_MORE
    
    LPDDRAWI_DDRAWPALETTE_GBL typedef ptr _DDRAWI_DDRAWPALETTE_GBL
    
    LPDDRAWI_DDRAWPALETTE_INT typedef ptr _DDRAWI_DDRAWPALETTE_INT
    
    LPDDRAWI_DDRAWCLIPPER_INT typedef ptr _DDRAWI_DDRAWCLIPPER_INT
    
    LPDDRAWI_DDRAWCLIPPER_GBL typedef ptr _DDRAWI_DDRAWCLIPPER_GBL
    
    LPDDRAWI_DDRAWSURFACE_MORE typedef ptr _DDRAWI_DDRAWSURFACE_MORE
    
    LPDDRAWI_DDRAWSURFACE_LCL typedef ptr _DDRAWI_DDRAWSURFACE_LCL
    
    LPDDRAWI_DDRAWSURFACE_INT typedef ptr _DDRAWI_DDRAWSURFACE_INT
    
    LPDDRAWI_DDVIDEOPORT_INT typedef ptr _DDRAWI_DDVIDEOPORT_INT
    
    LPDDRAWI_DDVIDEOPORT_LCL typedef ptr _DDRAWI_DDVIDEOPORT_LCL
    
    LPDDRAWI_DDRAWPALETTE_LCL typedef ptr _DDRAWI_DDRAWPALETTE_LCL
    
    LPDDRAWI_DDRAWCLIPPER_LCL typedef ptr _DDRAWI_DDRAWCLIPPER_LCL
    
    LPDDRAWI_DDMOTIONCOMP_INT typedef ptr _DDRAWI_DDMOTIONCOMP_INT
    
    LPDDRAWI_DDMOTIONCOMP_LCL typedef ptr _DDRAWI_DDMOTIONCOMP_LCL
    
    IUNKNOWN_LIST struct
      lpLink POINTER ?
      lpGuid POINTER ?
      lpIUnknown POINTER ?
    IUNKNOWN_LIST ends

    _IUNKNOWN_LIST typedef IUNKNOWN_LIST
    LPIUNKNOWN_LIST typedef ptr IUNKNOWN_LIST
    TYPE_LPDDHEL_INIT typedef proto WIN_STD_CALL_CONV :LPDDRAWI_DIRECTDRAW_GBL, :BOOL
    LPDDHEL_INIT typedef ptr TYPE_LPDDHEL_INIT
    TYPE_LPDDHAL_SETCOLORKEY typedef proto WIN_STD_CALL_CONV :LPDDHAL_DRVSETCOLORKEYDATA
    LPDDHAL_SETCOLORKEY typedef ptr TYPE_LPDDHAL_SETCOLORKEY
    TYPE_LPDDHAL_CANCREATESURFACE typedef proto WIN_STD_CALL_CONV :LPDDHAL_CANCREATESURFACEDATA
    LPDDHAL_CANCREATESURFACE typedef ptr TYPE_LPDDHAL_CANCREATESURFACE
    TYPE_LPDDHAL_WAITFORVERTICALBLANK typedef proto WIN_STD_CALL_CONV :LPDDHAL_WAITFORVERTICALBLANKDATA
    LPDDHAL_WAITFORVERTICALBLANK typedef ptr TYPE_LPDDHAL_WAITFORVERTICALBLANK
    TYPE_LPDDHAL_CREATESURFACE typedef proto WIN_STD_CALL_CONV :LPDDHAL_CREATESURFACEDATA
    LPDDHAL_CREATESURFACE typedef ptr TYPE_LPDDHAL_CREATESURFACE
    TYPE_LPDDHAL_DESTROYDRIVER typedef proto WIN_STD_CALL_CONV :LPDDHAL_DESTROYDRIVERDATA
    LPDDHAL_DESTROYDRIVER typedef ptr TYPE_LPDDHAL_DESTROYDRIVER
    TYPE_LPDDHAL_SETMODE typedef proto WIN_STD_CALL_CONV :LPDDHAL_SETMODEDATA
    LPDDHAL_SETMODE typedef ptr TYPE_LPDDHAL_SETMODE
    TYPE_LPDDHAL_CREATEPALETTE typedef proto WIN_STD_CALL_CONV :LPDDHAL_CREATEPALETTEDATA
    LPDDHAL_CREATEPALETTE typedef ptr TYPE_LPDDHAL_CREATEPALETTE
    TYPE_LPDDHAL_GETSCANLINE typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETSCANLINEDATA
    LPDDHAL_GETSCANLINE typedef ptr TYPE_LPDDHAL_GETSCANLINE
    TYPE_LPDDHAL_SETEXCLUSIVEMODE typedef proto WIN_STD_CALL_CONV :LPDDHAL_SETEXCLUSIVEMODEDATA
    LPDDHAL_SETEXCLUSIVEMODE typedef ptr TYPE_LPDDHAL_SETEXCLUSIVEMODE
    TYPE_LPDDHAL_FLIPTOGDISURFACE typedef proto WIN_STD_CALL_CONV :LPDDHAL_FLIPTOGDISURFACEDATA
    LPDDHAL_FLIPTOGDISURFACE typedef ptr TYPE_LPDDHAL_FLIPTOGDISURFACE
    TYPE_LPDDHAL_GETDRIVERINFO typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETDRIVERINFODATA
    LPDDHAL_GETDRIVERINFO typedef ptr TYPE_LPDDHAL_GETDRIVERINFO
    DDHAL_DDCALLBACKS struct
      dwSize DWORD ?
      dwFlags DWORD ?
      DestroyDriver LPDDHAL_DESTROYDRIVER ?
      CreateSurface LPDDHAL_CREATESURFACE ?
      SetColorKey LPDDHAL_SETCOLORKEY ?
      SetMode LPDDHAL_SETMODE ?
      WaitForVerticalBlank LPDDHAL_WAITFORVERTICALBLANK ?
      CanCreateSurface LPDDHAL_CANCREATESURFACE ?
      CreatePalette LPDDHAL_CREATEPALETTE ?
      GetScanLine LPDDHAL_GETSCANLINE ?
      SetExclusiveMode LPDDHAL_SETEXCLUSIVEMODE ?
      FlipToGDISurface LPDDHAL_FLIPTOGDISURFACE ?
    DDHAL_DDCALLBACKS ends

    _DDHAL_DDCALLBACKS typedef DDHAL_DDCALLBACKS
    LPDDHAL_DDCALLBACKS typedef ptr DDHAL_DDCALLBACKS
    DDCALLBACKSSIZE_V1 equ <(offsetof (DDHAL_DDCALLBACKS, SetExclusiveMode))>
    DDCALLBACKSSIZE equ <sizeof(DDHAL_DDCALLBACKS)>
    DDHAL_CB32_DESTROYDRIVER equ 00000001h
    DDHAL_CB32_CREATESURFACE equ 00000002h
    DDHAL_CB32_SETCOLORKEY equ 00000004h
    DDHAL_CB32_SETMODE equ 00000008h
    DDHAL_CB32_WAITFORVERTICALBLANK equ 00000010h
    DDHAL_CB32_CANCREATESURFACE equ 00000020h
    DDHAL_CB32_CREATEPALETTE equ 00000040h
    DDHAL_CB32_GETSCANLINE equ 00000080h
    DDHAL_CB32_SETEXCLUSIVEMODE equ 00000100h
    DDHAL_CB32_FLIPTOGDISURFACE equ 00000200h
    TYPE_LPDDHALPALCB_DESTROYPALETTE typedef proto WIN_STD_CALL_CONV :LPDDHAL_DESTROYPALETTEDATA
    LPDDHALPALCB_DESTROYPALETTE typedef ptr TYPE_LPDDHALPALCB_DESTROYPALETTE
    TYPE_LPDDHALPALCB_SETENTRIES typedef proto WIN_STD_CALL_CONV :LPDDHAL_SETENTRIESDATA
    LPDDHALPALCB_SETENTRIES typedef ptr TYPE_LPDDHALPALCB_SETENTRIES
    DDHAL_DDPALETTECALLBACKS struct
      dwSize DWORD ?
      dwFlags DWORD ?
      DestroyPalette LPDDHALPALCB_DESTROYPALETTE ?
      SetEntries LPDDHALPALCB_SETENTRIES ?
    DDHAL_DDPALETTECALLBACKS ends

    _DDHAL_DDPALETTECALLBACKS typedef DDHAL_DDPALETTECALLBACKS
    LPDDHAL_DDPALETTECALLBACKS typedef ptr DDHAL_DDPALETTECALLBACKS
    DDPALETTECALLBACKSSIZE equ <sizeof(DDHAL_DDPALETTECALLBACKS)>
    DDHAL_PALCB32_DESTROYPALETTE equ 00000001h
    DDHAL_PALCB32_SETENTRIES equ 00000002h
    TYPE_LPDDHALSURFCB_LOCK typedef proto WIN_STD_CALL_CONV :LPDDHAL_LOCKDATA
    LPDDHALSURFCB_LOCK typedef ptr TYPE_LPDDHALSURFCB_LOCK
    TYPE_LPDDHALSURFCB_UNLOCK typedef proto WIN_STD_CALL_CONV :LPDDHAL_UNLOCKDATA
    LPDDHALSURFCB_UNLOCK typedef ptr TYPE_LPDDHALSURFCB_UNLOCK
    TYPE_LPDDHALSURFCB_BLT typedef proto WIN_STD_CALL_CONV :LPDDHAL_BLTDATA
    LPDDHALSURFCB_BLT typedef ptr TYPE_LPDDHALSURFCB_BLT
    TYPE_LPDDHALSURFCB_UPDATEOVERLAY typedef proto WIN_STD_CALL_CONV :LPDDHAL_UPDATEOVERLAYDATA
    LPDDHALSURFCB_UPDATEOVERLAY typedef ptr TYPE_LPDDHALSURFCB_UPDATEOVERLAY
    TYPE_LPDDHALSURFCB_SETOVERLAYPOSITION typedef proto WIN_STD_CALL_CONV :LPDDHAL_SETOVERLAYPOSITIONDATA
    LPDDHALSURFCB_SETOVERLAYPOSITION typedef ptr TYPE_LPDDHALSURFCB_SETOVERLAYPOSITION
    TYPE_LPDDHALSURFCB_SETPALETTE typedef proto WIN_STD_CALL_CONV :LPDDHAL_SETPALETTEDATA
    LPDDHALSURFCB_SETPALETTE typedef ptr TYPE_LPDDHALSURFCB_SETPALETTE
    TYPE_LPDDHALSURFCB_FLIP typedef proto WIN_STD_CALL_CONV :LPDDHAL_FLIPDATA
    LPDDHALSURFCB_FLIP typedef ptr TYPE_LPDDHALSURFCB_FLIP
    TYPE_LPDDHALSURFCB_DESTROYSURFACE typedef proto WIN_STD_CALL_CONV :LPDDHAL_DESTROYSURFACEDATA
    LPDDHALSURFCB_DESTROYSURFACE typedef ptr TYPE_LPDDHALSURFCB_DESTROYSURFACE
    TYPE_LPDDHALSURFCB_SETCLIPLIST typedef proto WIN_STD_CALL_CONV :LPDDHAL_SETCLIPLISTDATA
    LPDDHALSURFCB_SETCLIPLIST typedef ptr TYPE_LPDDHALSURFCB_SETCLIPLIST
    TYPE_LPDDHALSURFCB_ADDATTACHEDSURFACE typedef proto WIN_STD_CALL_CONV :LPDDHAL_ADDATTACHEDSURFACEDATA
    LPDDHALSURFCB_ADDATTACHEDSURFACE typedef ptr TYPE_LPDDHALSURFCB_ADDATTACHEDSURFACE
    TYPE_LPDDHALSURFCB_SETCOLORKEY typedef proto WIN_STD_CALL_CONV :LPDDHAL_SETCOLORKEYDATA
    LPDDHALSURFCB_SETCOLORKEY typedef ptr TYPE_LPDDHALSURFCB_SETCOLORKEY
    TYPE_LPDDHALSURFCB_GETBLTSTATUS typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETBLTSTATUSDATA
    LPDDHALSURFCB_GETBLTSTATUS typedef ptr TYPE_LPDDHALSURFCB_GETBLTSTATUS
    TYPE_LPDDHALSURFCB_GETFLIPSTATUS typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETFLIPSTATUSDATA
    LPDDHALSURFCB_GETFLIPSTATUS typedef ptr TYPE_LPDDHALSURFCB_GETFLIPSTATUS
    DDHAL_DDSURFACECALLBACKS struct
      dwSize DWORD ?
      dwFlags DWORD ?
      DestroySurface LPDDHALSURFCB_DESTROYSURFACE ?
      Flip LPDDHALSURFCB_FLIP ?
      SetClipList LPDDHALSURFCB_SETCLIPLIST ?
      Lock_ LPDDHALSURFCB_LOCK ?
      Unlock LPDDHALSURFCB_UNLOCK ?
      Blt LPDDHALSURFCB_BLT ?
      SetColorKey LPDDHALSURFCB_SETCOLORKEY ?
      AddAttachedSurface LPDDHALSURFCB_ADDATTACHEDSURFACE ?
      GetBltStatus LPDDHALSURFCB_GETBLTSTATUS ?
      GetFlipStatus LPDDHALSURFCB_GETFLIPSTATUS ?
      UpdateOverlay LPDDHALSURFCB_UPDATEOVERLAY ?
      SetOverlayPosition LPDDHALSURFCB_SETOVERLAYPOSITION ?
      reserved4 LPVOID ?
      SetPalette LPDDHALSURFCB_SETPALETTE ?
    DDHAL_DDSURFACECALLBACKS ends

    _DDHAL_DDSURFACECALLBACKS typedef DDHAL_DDSURFACECALLBACKS
    LPDDHAL_DDSURFACECALLBACKS typedef ptr DDHAL_DDSURFACECALLBACKS
    DDSURFACECALLBACKSSIZE equ <sizeof(DDHAL_DDSURFACECALLBACKS)>
    DDHAL_SURFCB32_DESTROYSURFACE equ 00000001h
    DDHAL_SURFCB32_FLIP equ 00000002h
    DDHAL_SURFCB32_SETCLIPLIST equ 00000004h
    DDHAL_SURFCB32_LOCK equ 00000008h
    DDHAL_SURFCB32_UNLOCK equ 00000010h
    DDHAL_SURFCB32_BLT equ 00000020h
    DDHAL_SURFCB32_SETCOLORKEY equ 00000040h
    DDHAL_SURFCB32_ADDATTACHEDSURFACE equ 00000080h
    DDHAL_SURFCB32_GETBLTSTATUS equ 00000100h
    DDHAL_SURFCB32_GETFLIPSTATUS equ 00000200h
    DDHAL_SURFCB32_UPDATEOVERLAY equ 00000400h
    DDHAL_SURFCB32_SETOVERLAYPOSITION equ 00000800h
    DDHAL_SURFCB32_RESERVED4 equ 00001000h
    DDHAL_SURFCB32_SETPALETTE equ 00002000h
    TYPE_LPDDHAL_GETAVAILDRIVERMEMORY typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETAVAILDRIVERMEMORYDATA
    LPDDHAL_GETAVAILDRIVERMEMORY typedef ptr TYPE_LPDDHAL_GETAVAILDRIVERMEMORY
    TYPE_LPDDHAL_UPDATENONLOCALHEAP typedef proto WIN_STD_CALL_CONV :LPDDHAL_UPDATENONLOCALHEAPDATA
    LPDDHAL_UPDATENONLOCALHEAP typedef ptr TYPE_LPDDHAL_UPDATENONLOCALHEAP
    TYPE_LPDDHAL_GETHEAPALIGNMENT typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETHEAPALIGNMENTDATA
    LPDDHAL_GETHEAPALIGNMENT typedef ptr TYPE_LPDDHAL_GETHEAPALIGNMENT
    DDHAL_DDMISCELLANEOUSCALLBACKS struct
      dwSize DWORD ?
      dwFlags DWORD ?
      GetAvailDriverMemory LPDDHAL_GETAVAILDRIVERMEMORY ?
      UpdateNonLocalHeap LPDDHAL_UPDATENONLOCALHEAP ?
      GetHeapAlignment LPDDHAL_GETHEAPALIGNMENT ?
      GetSysmemBltStatus LPDDHALSURFCB_GETBLTSTATUS ?
    DDHAL_DDMISCELLANEOUSCALLBACKS ends

    _DDHAL_DDMISCELLANEOUSCALLBACKS typedef DDHAL_DDMISCELLANEOUSCALLBACKS
    LPDDHAL_DDMISCELLANEOUSCALLBACKS typedef ptr DDHAL_DDMISCELLANEOUSCALLBACKS
    
    DDHAL_MISCCB32_GETAVAILDRIVERMEMORY equ 00000001h
    DDHAL_MISCCB32_UPDATENONLOCALHEAP equ 00000002h
    DDHAL_MISCCB32_GETHEAPALIGNMENT equ 00000004h
    DDHAL_MISCCB32_GETSYSMEMBLTSTATUS equ 00000008h
    DDMISCELLANEOUSCALLBACKSSIZE equ <sizeof(DDHAL_DDMISCELLANEOUSCALLBACKS)>
    TYPE_LPDDHAL_CREATESURFACEEX typedef proto WIN_STD_CALL_CONV :LPDDHAL_CREATESURFACEEXDATA
    LPDDHAL_CREATESURFACEEX typedef ptr TYPE_LPDDHAL_CREATESURFACEEX
    TYPE_LPDDHAL_GETDRIVERSTATE typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETDRIVERSTATEDATA
    LPDDHAL_GETDRIVERSTATE typedef ptr TYPE_LPDDHAL_GETDRIVERSTATE
    TYPE_LPDDHAL_DESTROYDDLOCAL typedef proto WIN_STD_CALL_CONV :LPDDHAL_DESTROYDDLOCALDATA
    LPDDHAL_DESTROYDDLOCAL typedef ptr TYPE_LPDDHAL_DESTROYDDLOCAL
    DDHAL_DDMISCELLANEOUS2CALLBACKS struct
      dwSize DWORD ?
      dwFlags DWORD ?
      Reserved LPVOID ?
      CreateSurfaceEx LPDDHAL_CREATESURFACEEX ?
      GetDriverState LPDDHAL_GETDRIVERSTATE ?
      DestroyDDLocal LPDDHAL_DESTROYDDLOCAL ?
    DDHAL_DDMISCELLANEOUS2CALLBACKS ends

    _DDHAL_DDMISCELLANEOUS2CALLBACKS typedef DDHAL_DDMISCELLANEOUS2CALLBACKS
    LPDDHAL_DDMISCELLANEOUS2CALLBACKS typedef ptr DDHAL_DDMISCELLANEOUS2CALLBACKS
    
    DDHAL_MISC2CB32_CREATESURFACEEX equ 00000002h
    DDHAL_MISC2CB32_GETDRIVERSTATE equ 00000004h
    DDHAL_MISC2CB32_DESTROYDDLOCAL equ 00000008h
    DDMISCELLANEOUS2CALLBACKSSIZE equ <sizeof(DDHAL_DDMISCELLANEOUS2CALLBACKS)>
    TYPE_LPDDHALEXEBUFCB_CANCREATEEXEBUF typedef proto WIN_STD_CALL_CONV :LPDDHAL_CANCREATESURFACEDATA
    LPDDHALEXEBUFCB_CANCREATEEXEBUF typedef ptr TYPE_LPDDHALEXEBUFCB_CANCREATEEXEBUF
    TYPE_LPDDHALEXEBUFCB_CREATEEXEBUF typedef proto WIN_STD_CALL_CONV :LPDDHAL_CREATESURFACEDATA
    LPDDHALEXEBUFCB_CREATEEXEBUF typedef ptr TYPE_LPDDHALEXEBUFCB_CREATEEXEBUF
    TYPE_LPDDHALEXEBUFCB_DESTROYEXEBUF typedef proto WIN_STD_CALL_CONV :LPDDHAL_DESTROYSURFACEDATA
    LPDDHALEXEBUFCB_DESTROYEXEBUF typedef ptr TYPE_LPDDHALEXEBUFCB_DESTROYEXEBUF
    TYPE_LPDDHALEXEBUFCB_LOCKEXEBUF typedef proto WIN_STD_CALL_CONV :LPDDHAL_LOCKDATA
    LPDDHALEXEBUFCB_LOCKEXEBUF typedef ptr TYPE_LPDDHALEXEBUFCB_LOCKEXEBUF
    TYPE_LPDDHALEXEBUFCB_UNLOCKEXEBUF typedef proto WIN_STD_CALL_CONV :LPDDHAL_UNLOCKDATA
    LPDDHALEXEBUFCB_UNLOCKEXEBUF typedef ptr TYPE_LPDDHALEXEBUFCB_UNLOCKEXEBUF
    DDHAL_DDEXEBUFCALLBACKS struct
      dwSize DWORD ?
      dwFlags DWORD ?
      CanCreateExecuteBuffer LPDDHALEXEBUFCB_CANCREATEEXEBUF ?
      CreateExecuteBuffer LPDDHALEXEBUFCB_CREATEEXEBUF ?
      DestroyExecuteBuffer LPDDHALEXEBUFCB_DESTROYEXEBUF ?
      LockExecuteBuffer LPDDHALEXEBUFCB_LOCKEXEBUF ?
      UnlockExecuteBuffer LPDDHALEXEBUFCB_UNLOCKEXEBUF ?
    DDHAL_DDEXEBUFCALLBACKS ends

    _DDHAL_DDEXEBUFCALLBACKS typedef DDHAL_DDEXEBUFCALLBACKS
    LPDDHAL_DDEXEBUFCALLBACKS typedef ptr DDHAL_DDEXEBUFCALLBACKS
    DDEXEBUFCALLBACKSSIZE equ <sizeof(DDHAL_DDEXEBUFCALLBACKS)>
    DDHAL_EXEBUFCB32_CANCREATEEXEBUF equ 00000001h
    DDHAL_EXEBUFCB32_CREATEEXEBUF equ 00000002h
    DDHAL_EXEBUFCB32_DESTROYEXEBUF equ 00000004h
    DDHAL_EXEBUFCB32_LOCKEXEBUF equ 00000008h
    DDHAL_EXEBUFCB32_UNLOCKEXEBUF equ 00000010h
    TYPE_LPDDHALVPORTCB_CANCREATEVIDEOPORT typedef proto WIN_STD_CALL_CONV :LPDDHAL_CANCREATEVPORTDATA
    LPDDHALVPORTCB_CANCREATEVIDEOPORT typedef ptr TYPE_LPDDHALVPORTCB_CANCREATEVIDEOPORT
    TYPE_LPDDHALVPORTCB_CREATEVIDEOPORT typedef proto WIN_STD_CALL_CONV :LPDDHAL_CREATEVPORTDATA
    LPDDHALVPORTCB_CREATEVIDEOPORT typedef ptr TYPE_LPDDHALVPORTCB_CREATEVIDEOPORT
    TYPE_LPDDHALVPORTCB_FLIP typedef proto WIN_STD_CALL_CONV :LPDDHAL_FLIPVPORTDATA
    LPDDHALVPORTCB_FLIP typedef ptr TYPE_LPDDHALVPORTCB_FLIP
    TYPE_LPDDHALVPORTCB_GETBANDWIDTH typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETVPORTBANDWIDTHDATA
    LPDDHALVPORTCB_GETBANDWIDTH typedef ptr TYPE_LPDDHALVPORTCB_GETBANDWIDTH
    TYPE_LPDDHALVPORTCB_GETINPUTFORMATS typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETVPORTINPUTFORMATDATA
    LPDDHALVPORTCB_GETINPUTFORMATS typedef ptr TYPE_LPDDHALVPORTCB_GETINPUTFORMATS
    TYPE_LPDDHALVPORTCB_GETOUTPUTFORMATS typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETVPORTOUTPUTFORMATDATA
    LPDDHALVPORTCB_GETOUTPUTFORMATS typedef ptr TYPE_LPDDHALVPORTCB_GETOUTPUTFORMATS
    TYPE_LPDDHALVPORTCB_GETFIELD typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETVPORTFIELDDATA
    LPDDHALVPORTCB_GETFIELD typedef ptr TYPE_LPDDHALVPORTCB_GETFIELD
    TYPE_LPDDHALVPORTCB_GETLINE typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETVPORTLINEDATA
    LPDDHALVPORTCB_GETLINE typedef ptr TYPE_LPDDHALVPORTCB_GETLINE
    TYPE_LPDDHALVPORTCB_GETVPORTCONNECT typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETVPORTCONNECTDATA
    LPDDHALVPORTCB_GETVPORTCONNECT typedef ptr TYPE_LPDDHALVPORTCB_GETVPORTCONNECT
    TYPE_LPDDHALVPORTCB_DESTROYVPORT typedef proto WIN_STD_CALL_CONV :LPDDHAL_DESTROYVPORTDATA
    LPDDHALVPORTCB_DESTROYVPORT typedef ptr TYPE_LPDDHALVPORTCB_DESTROYVPORT
    TYPE_LPDDHALVPORTCB_GETFLIPSTATUS typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETVPORTFLIPSTATUSDATA
    LPDDHALVPORTCB_GETFLIPSTATUS typedef ptr TYPE_LPDDHALVPORTCB_GETFLIPSTATUS
    TYPE_LPDDHALVPORTCB_UPDATE typedef proto WIN_STD_CALL_CONV :LPDDHAL_UPDATEVPORTDATA
    LPDDHALVPORTCB_UPDATE typedef ptr TYPE_LPDDHALVPORTCB_UPDATE
    TYPE_LPDDHALVPORTCB_WAITFORSYNC typedef proto WIN_STD_CALL_CONV :LPDDHAL_WAITFORVPORTSYNCDATA
    LPDDHALVPORTCB_WAITFORSYNC typedef ptr TYPE_LPDDHALVPORTCB_WAITFORSYNC
    TYPE_LPDDHALVPORTCB_GETSIGNALSTATUS typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETVPORTSIGNALDATA
    LPDDHALVPORTCB_GETSIGNALSTATUS typedef ptr TYPE_LPDDHALVPORTCB_GETSIGNALSTATUS
    TYPE_LPDDHALVPORTCB_COLORCONTROL typedef proto WIN_STD_CALL_CONV :LPDDHAL_VPORTCOLORDATA
    LPDDHALVPORTCB_COLORCONTROL typedef ptr TYPE_LPDDHALVPORTCB_COLORCONTROL
    DDHAL_DDVIDEOPORTCALLBACKS struct
      dwSize DWORD ?
      dwFlags DWORD ?
      CanCreateVideoPort LPDDHALVPORTCB_CANCREATEVIDEOPORT ?
      CreateVideoPort LPDDHALVPORTCB_CREATEVIDEOPORT ?
      FlipVideoPort LPDDHALVPORTCB_FLIP ?
      GetVideoPortBandwidth LPDDHALVPORTCB_GETBANDWIDTH ?
      GetVideoPortInputFormats LPDDHALVPORTCB_GETINPUTFORMATS ?
      GetVideoPortOutputFormats LPDDHALVPORTCB_GETOUTPUTFORMATS ?
      lpReserved1 LPVOID ?
      GetVideoPortField LPDDHALVPORTCB_GETFIELD ?
      GetVideoPortLine LPDDHALVPORTCB_GETLINE ?
      GetVideoPortConnectInfo LPDDHALVPORTCB_GETVPORTCONNECT ?
      DestroyVideoPort LPDDHALVPORTCB_DESTROYVPORT ?
      GetVideoPortFlipStatus LPDDHALVPORTCB_GETFLIPSTATUS ?
      UpdateVideoPort LPDDHALVPORTCB_UPDATE ?
      WaitForVideoPortSync LPDDHALVPORTCB_WAITFORSYNC ?
      GetVideoSignalStatus LPDDHALVPORTCB_GETSIGNALSTATUS ?
      ColorControl LPDDHALVPORTCB_COLORCONTROL ?
    DDHAL_DDVIDEOPORTCALLBACKS ends

    _DDHAL_DDVIDEOPORTCALLBACKS typedef DDHAL_DDVIDEOPORTCALLBACKS
    LPDDHAL_DDVIDEOPORTCALLBACKS typedef ptr DDHAL_DDVIDEOPORTCALLBACKS
    DDVIDEOPORTCALLBACKSSIZE equ <sizeof(DDHAL_DDVIDEOPORTCALLBACKS)>
    DDHAL_VPORT32_CANCREATEVIDEOPORT equ 00000001h
    DDHAL_VPORT32_CREATEVIDEOPORT equ 00000002h
    DDHAL_VPORT32_FLIP equ 00000004h
    DDHAL_VPORT32_GETBANDWIDTH equ 00000008h
    DDHAL_VPORT32_GETINPUTFORMATS equ 00000010h
    DDHAL_VPORT32_GETOUTPUTFORMATS equ 00000020h
    DDHAL_VPORT32_GETFIELD equ 00000080h
    DDHAL_VPORT32_GETLINE equ 00000100h
    DDHAL_VPORT32_GETCONNECT equ 00000200h
    DDHAL_VPORT32_DESTROY equ 00000400h
    DDHAL_VPORT32_GETFLIPSTATUS equ 00000800h
    DDHAL_VPORT32_UPDATE equ 00001000h
    DDHAL_VPORT32_WAITFORSYNC equ 00002000h
    DDHAL_VPORT32_GETSIGNALSTATUS equ 00004000h
    DDHAL_VPORT32_COLORCONTROL equ 00008000h
    TYPE_LPDDHALCOLORCB_COLORCONTROL typedef proto WIN_STD_CALL_CONV :LPDDHAL_COLORCONTROLDATA
    LPDDHALCOLORCB_COLORCONTROL typedef ptr TYPE_LPDDHALCOLORCB_COLORCONTROL
    DDHAL_DDCOLORCONTROLCALLBACKS struct
      dwSize DWORD ?
      dwFlags DWORD ?
      ColorControl LPDDHALCOLORCB_COLORCONTROL ?
    DDHAL_DDCOLORCONTROLCALLBACKS ends

    _DDHAL_DDCOLORCONTROLCALLBACKS typedef DDHAL_DDCOLORCONTROLCALLBACKS
    LPDDHAL_DDCOLORCONTROLCALLBACKS typedef ptr DDHAL_DDCOLORCONTROLCALLBACKS
    DDCOLORCONTROLCALLBACKSSIZE equ <sizeof(DDHAL_DDCOLORCONTROLCALLBACKS)>
    DDHAL_COLOR_COLORCONTROL equ 00000001h
    TYPE_LPDDHALKERNELCB_SYNCSURFACE typedef proto WIN_STD_CALL_CONV :LPDDHAL_SYNCSURFACEDATA
    LPDDHALKERNELCB_SYNCSURFACE typedef ptr TYPE_LPDDHALKERNELCB_SYNCSURFACE
    TYPE_LPDDHALKERNELCB_SYNCVIDEOPORT typedef proto WIN_STD_CALL_CONV :LPDDHAL_SYNCVIDEOPORTDATA
    LPDDHALKERNELCB_SYNCVIDEOPORT typedef ptr TYPE_LPDDHALKERNELCB_SYNCVIDEOPORT
    DDHAL_DDKERNELCALLBACKS struct
      dwSize DWORD ?
      dwFlags DWORD ?
      SyncSurfaceData LPDDHALKERNELCB_SYNCSURFACE ?
      SyncVideoPortData LPDDHALKERNELCB_SYNCVIDEOPORT ?
    DDHAL_DDKERNELCALLBACKS ends

    _DDHAL_DDKERNELCALLBACKS typedef DDHAL_DDKERNELCALLBACKS
    LPDDHAL_DDKERNELCALLBACKS typedef ptr DDHAL_DDKERNELCALLBACKS
    
    DDHAL_KERNEL_SYNCSURFACEDATA equ 00000001h
    DDHAL_KERNEL_SYNCVIDEOPORTDATA equ 00000002h
    DDKERNELCALLBACKSSIZE equ <sizeof(DDHAL_DDKERNELCALLBACKS)>
    TYPE_LPDDGAMMACALIBRATORPROC typedef proto WIN_STD_CALL_CONV :LPDDGAMMARAMP, :LPBYTE
    LPDDGAMMACALIBRATORPROC typedef ptr TYPE_LPDDGAMMACALIBRATORPROC
    TYPE_LPDDHALMOCOMPCB_GETGUIDS typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETMOCOMPGUIDSDATA
    LPDDHALMOCOMPCB_GETGUIDS typedef ptr TYPE_LPDDHALMOCOMPCB_GETGUIDS
    TYPE_LPDDHALMOCOMPCB_GETFORMATS typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETMOCOMPFORMATSDATA
    LPDDHALMOCOMPCB_GETFORMATS typedef ptr TYPE_LPDDHALMOCOMPCB_GETFORMATS
    TYPE_LPDDHALMOCOMPCB_CREATE typedef proto WIN_STD_CALL_CONV :LPDDHAL_CREATEMOCOMPDATA
    LPDDHALMOCOMPCB_CREATE typedef ptr TYPE_LPDDHALMOCOMPCB_CREATE
    TYPE_LPDDHALMOCOMPCB_GETCOMPBUFFINFO typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETMOCOMPCOMPBUFFDATA
    LPDDHALMOCOMPCB_GETCOMPBUFFINFO typedef ptr TYPE_LPDDHALMOCOMPCB_GETCOMPBUFFINFO
    TYPE_LPDDHALMOCOMPCB_GETINTERNALINFO typedef proto WIN_STD_CALL_CONV :LPDDHAL_GETINTERNALMOCOMPDATA
    LPDDHALMOCOMPCB_GETINTERNALINFO typedef ptr TYPE_LPDDHALMOCOMPCB_GETINTERNALINFO
    TYPE_LPDDHALMOCOMPCB_BEGINFRAME typedef proto WIN_STD_CALL_CONV :LPDDHAL_BEGINMOCOMPFRAMEDATA
    LPDDHALMOCOMPCB_BEGINFRAME typedef ptr TYPE_LPDDHALMOCOMPCB_BEGINFRAME
    TYPE_LPDDHALMOCOMPCB_ENDFRAME typedef proto WIN_STD_CALL_CONV :LPDDHAL_ENDMOCOMPFRAMEDATA
    LPDDHALMOCOMPCB_ENDFRAME typedef ptr TYPE_LPDDHALMOCOMPCB_ENDFRAME
    TYPE_LPDDHALMOCOMPCB_RENDER typedef proto WIN_STD_CALL_CONV :LPDDHAL_RENDERMOCOMPDATA
    LPDDHALMOCOMPCB_RENDER typedef ptr TYPE_LPDDHALMOCOMPCB_RENDER
    TYPE_LPDDHALMOCOMPCB_QUERYSTATUS typedef proto WIN_STD_CALL_CONV :LPDDHAL_QUERYMOCOMPSTATUSDATA
    LPDDHALMOCOMPCB_QUERYSTATUS typedef ptr TYPE_LPDDHALMOCOMPCB_QUERYSTATUS
    TYPE_LPDDHALMOCOMPCB_DESTROY typedef proto WIN_STD_CALL_CONV :LPDDHAL_DESTROYMOCOMPDATA
    LPDDHALMOCOMPCB_DESTROY typedef ptr TYPE_LPDDHALMOCOMPCB_DESTROY
    DDHAL_DDMOTIONCOMPCALLBACKS struct
      dwSize DWORD ?
      dwFlags DWORD ?
      GetMoCompGuids LPDDHALMOCOMPCB_GETGUIDS ?
      GetMoCompFormats LPDDHALMOCOMPCB_GETFORMATS ?
      CreateMoComp LPDDHALMOCOMPCB_CREATE ?
      GetMoCompBuffInfo LPDDHALMOCOMPCB_GETCOMPBUFFINFO ?
      GetInternalMoCompInfo LPDDHALMOCOMPCB_GETINTERNALINFO ?
      BeginMoCompFrame LPDDHALMOCOMPCB_BEGINFRAME ?
      EndMoCompFrame LPDDHALMOCOMPCB_ENDFRAME ?
      RenderMoComp LPDDHALMOCOMPCB_RENDER ?
      QueryMoCompStatus LPDDHALMOCOMPCB_QUERYSTATUS ?
      DestroyMoComp LPDDHALMOCOMPCB_DESTROY ?
    DDHAL_DDMOTIONCOMPCALLBACKS ends

    _DDHAL_DDMOTIONCOMPCALLBACKS typedef DDHAL_DDMOTIONCOMPCALLBACKS
    LPDDHAL_DDMOTIONCOMPCALLBACKS typedef ptr DDHAL_DDMOTIONCOMPCALLBACKS
    DDMOTIONCOMPCALLBACKSSIZE equ <sizeof(DDHAL_DDMOTIONCOMPCALLBACKS)>
    DDHAL_MOCOMP32_GETGUIDS equ 00000001h
    DDHAL_MOCOMP32_GETFORMATS equ 00000002h
    DDHAL_MOCOMP32_CREATE equ 00000004h
    DDHAL_MOCOMP32_GETCOMPBUFFINFO equ 00000008h
    DDHAL_MOCOMP32_GETINTERNALINFO equ 00000010h
    DDHAL_MOCOMP32_BEGINFRAME equ 00000020h
    DDHAL_MOCOMP32_ENDFRAME equ 00000040h
    DDHAL_MOCOMP32_RENDER equ 00000080h
    DDHAL_MOCOMP32_QUERYSTATUS equ 00000100h
    DDHAL_MOCOMP32_DESTROY equ 00000200h
    DDHAL_DRIVER_NOTHANDLED equ 00000000h
    DDHAL_DRIVER_HANDLED equ 00000001h
    DDHAL_DRIVER_NOCKEYHW equ 00000002h
    DDNONLOCALVIDMEMCAPS struct
      dwSize DWORD ?
      dwNLVBCaps DWORD ?
      dwNLVBCaps2 DWORD ?
      dwNLVBCKeyCaps DWORD ?
      dwNLVBFXCaps DWORD ?
      dwNLVBRops DWORD DD_ROP_SPACE dup (?)
    DDNONLOCALVIDMEMCAPS ends

    _DDNONLOCALVIDMEMCAPS typedef DDNONLOCALVIDMEMCAPS
    LPDDNONLOCALVIDMEMCAPS typedef ptr _DDNONLOCALVIDMEMCAPS
    
    DDMORESURFACECAPS struct
      dwSize DWORD ?
      ddsCapsMore DDSCAPSEX <>
      struct ddsExtendedHeapRestrictions
        ddsCapsEx DDSCAPSEX <>
        ddsCapsExAlt DDSCAPSEX <>
      ends
    DDMORESURFACECAPS ends

    _DDMORESURFACECAPS typedef DDMORESURFACECAPS
    LPDDMORESURFACECAPS typedef ptr DDMORESURFACECAPS
    
    DDSTEREOMODE struct
      dwSize DWORD ?
      dwHeight DWORD ?
      dwWidth DWORD ?
      dwBpp DWORD ?
      dwRefreshRate DWORD ?
      bSupported BOOL ?
    DDSTEREOMODE ends

    _DDSTEREOMODE typedef DDSTEREOMODE
    LPDDSTEREOMODE typedef ptr DDSTEREOMODE
    
    DDRAWI_DDRAWPALETTE_INT struct
      lpVtbl LPVOID ?
      lpLcl LPDDRAWI_DDRAWPALETTE_LCL ?
      lpLink LPDDRAWI_DDRAWPALETTE_INT ?
      dwIntRefCnt DWORD ?
    DDRAWI_DDRAWPALETTE_INT ends

    _DDRAWI_DDRAWPALETTE_INT typedef DDRAWI_DDRAWPALETTE_INT
    DDRAWI_DDRAWPALETTE_GBL struct
      dwRefCnt DWORD ?
      dwFlags DWORD ?
      lpDD_lcl LPDDRAWI_DIRECTDRAW_LCL ?
      dwProcessId DWORD ?
      lpColorTable LPPALETTEENTRY ?
      union
        dwReserved1 ULONG_PTR ?
        hHELGDIPalette HPALETTE ?
      ends
      dwDriverReserved DWORD ?
      dwContentsStamp DWORD ?
      dwSaveStamp DWORD ?
      dwHandle DWORD ?
    DDRAWI_DDRAWPALETTE_GBL ends

    _DDRAWI_DDRAWPALETTE_GBL typedef DDRAWI_DDRAWPALETTE_GBL
    DDRAWI_DDRAWPALETTE_LCL struct
      lpPalMore DWORD ?
      lpGbl LPDDRAWI_DDRAWPALETTE_GBL ?
      dwUnused0 ULONG_PTR ?
      dwLocalRefCnt DWORD ?
      pUnkOuter POINTER ?
      lpDD_lcl LPDDRAWI_DIRECTDRAW_LCL ?
      dwReserved1 ULONG_PTR ?
      dwDDRAWReserved1 ULONG_PTR ?
      dwDDRAWReserved2 ULONG_PTR ?
      dwDDRAWReserved3 ULONG_PTR ?
    DDRAWI_DDRAWPALETTE_LCL ends

    _DDRAWI_DDRAWPALETTE_LCL typedef DDRAWI_DDRAWPALETTE_LCL
    DDRAWIPAL_256 equ 00000001h
    DDRAWIPAL_16 equ 00000002h
    DDRAWIPAL_GDI equ 00000004h
    DDRAWIPAL_STORED_8 equ 00000008h
    DDRAWIPAL_STORED_16 equ 00000010h
    DDRAWIPAL_STORED_24 equ 00000020h
    DDRAWIPAL_EXCLUSIVE equ 00000040h
    DDRAWIPAL_INHEL equ 00000080h
    DDRAWIPAL_DIRTY equ 00000100h
    DDRAWIPAL_ALLOW256 equ 00000200h
    DDRAWIPAL_4 equ 00000400h
    DDRAWIPAL_2 equ 00000800h
    DDRAWIPAL_STORED_8INDEX equ 00001000h
    DDRAWIPAL_ALPHA equ 00002000h
    DDRAWI_DDRAWCLIPPER_INT struct
      lpVtbl LPVOID ?
      lpLcl LPDDRAWI_DDRAWCLIPPER_LCL ?
      lpLink LPDDRAWI_DDRAWCLIPPER_INT ?
      dwIntRefCnt DWORD ?
    DDRAWI_DDRAWCLIPPER_INT ends

    _DDRAWI_DDRAWCLIPPER_INT typedef DDRAWI_DDRAWCLIPPER_INT
    DDRAWI_DDRAWCLIPPER_GBL struct
      dwRefCnt DWORD ?
      dwFlags DWORD ?
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      dwProcessId DWORD ?
      dwReserved1 ULONG_PTR ?
      hWnd ULONG_PTR ?
      lpStaticClipList LPRGNDATA ?
    DDRAWI_DDRAWCLIPPER_GBL ends

    _DDRAWI_DDRAWCLIPPER_GBL typedef DDRAWI_DDRAWCLIPPER_GBL
    DDRAWI_DDRAWCLIPPER_LCL struct
      lpClipMore DWORD ?
      lpGbl LPDDRAWI_DDRAWCLIPPER_GBL ?
      lpDD_lcl LPDDRAWI_DIRECTDRAW_LCL ?
      dwLocalRefCnt DWORD ?
      pUnkOuter POINTER ?
      lpDD_int LPDDRAWI_DIRECTDRAW_INT ?
      dwReserved1 ULONG_PTR ?
      pAddrefedThisOwner POINTER ?
    DDRAWI_DDRAWCLIPPER_LCL ends

    _DDRAWI_DDRAWCLIPPER_LCL typedef DDRAWI_DDRAWCLIPPER_LCL
    DDRAWICLIP_WATCHWINDOW equ 00000001h
    DDRAWICLIP_ISINITIALIZED equ 00000002h
    DDRAWICLIP_INMASTERSPRITELIST equ 00000004h
    ATTACHLIST struct
      dwFlags DWORD ?
      lpLink POINTER ?
      lpAttached POINTER ?
      lpIAttached POINTER ?
    ATTACHLIST ends

    _ATTACHLIST typedef ATTACHLIST
    LPATTACHLIST typedef ptr ATTACHLIST
    DDAL_IMPLICIT equ 00000001h
    DBLNODE struct
      next POINTER ?
      prev POINTER ?
      object_ LPDDRAWI_DDRAWSURFACE_LCL ?
      object_int LPDDRAWI_DDRAWSURFACE_INT ?
    DBLNODE ends

    _DBLNODE typedef DBLNODE
    LPDBLNODE typedef ptr DBLNODE
    ACCESSRECTLIST struct
      lpLink POINTER ?
      rDest RECT <>
      lpOwner LPDDRAWI_DIRECTDRAW_LCL ?
      lpSurfaceData LPVOID ?
      dwFlags DWORD ?
      lpHeapAliasInfo LPHEAPALIASINFO ?
    ACCESSRECTLIST ends

    _ACCESSRECTLIST typedef ACCESSRECTLIST
    LPACCESSRECTLIST typedef ptr ACCESSRECTLIST
    ACCESSRECT_VRAMSTYLE equ 00000001h
    ACCESSRECT_NOTHOLDINGWIN16LOCK equ 00000002h
    ACCESSRECT_BROKEN equ 00000004h
    ifndef WIN95
      DISPLAYMODEINFO struct
        wWidth WORD ?
        wHeight WORD ?
        wBPP BYTE ?
        wMonitorsAttachedToDesktop BYTE ?
        wRefreshRate WORD ?
      DISPLAYMODEINFO ends

      _DISPLAYMODEINFO typedef DISPLAYMODEINFO
      LPDISPLAYMODEINFO typedef ptr _DISPLAYMODEINFO
      
      EQUAL_DISPLAYMODE macro a, b
        exitm <(0 == memcmp (and (a), and (b), sizeof(DISPLAYMODEINFO)))>
      endm
    endif
    DDRAWI_DDRAWSURFACE_INT struct
      lpVtbl LPVOID ?
      lpLcl LPDDRAWI_DDRAWSURFACE_LCL ?
      lpLink LPDDRAWI_DDRAWSURFACE_INT ?
      dwIntRefCnt DWORD ?
    DDRAWI_DDRAWSURFACE_INT ends

    _DDRAWI_DDRAWSURFACE_INT typedef DDRAWI_DDRAWSURFACE_INT
    DDRAWI_DDRAWSURFACE_GBL struct
      dwRefCnt DWORD ?
      dwGlobalFlags DWORD ?
      union
        lpRectList LPACCESSRECTLIST ?
        dwBlockSizeY DWORD ?
        lSlicePitch LONG ?
      ends
      union
        lpVidMemHeap LPVMEMHEAP ?
        dwBlockSizeX DWORD ?
      ends
      union
        lpDD LPDDRAWI_DIRECTDRAW_GBL ?
        lpDDHandle LPVOID ?
      ends
      fpVidMem FLATPTR ?
      union
        lPitch LONG ?
        dwLinearSize DWORD ?
      ends
      wHeight WORD ?
      wWidth WORD ?
      dwUsageCount DWORD ?
      dwReserved1 ULONG_PTR ?
      ddpfSurface DDPIXELFORMAT <>
    DDRAWI_DDRAWSURFACE_GBL ends

    _DDRAWI_DDRAWSURFACE_GBL typedef DDRAWI_DDRAWSURFACE_GBL
    GET_LPDDRAWSURFACE_GBL_MORE macro psurf_gbl
      exitm <(* (LPDDRAWI_DDRAWSURFACE_GBL_MORE *) (psurf_gbl - sizeof(DWORD_PTR)))>
    endm
    SURFACE_PHYSICALVIDMEM macro psurf_gbl
      exitm <(GET_LPDDRAWSURFACE_GBL_MORE(psurf_gbl) - fpPhysicalVidMem)>
    endm
    DDRAWI_DDRAWSURFACE_GBL_MORE struct
      dwSize DWORD ?
      union
        dwPhysicalPageTable DWORD ?
        fpPhysicalVidMem FLATPTR ?
      ends
      pPageTable LPDWORD ?
      cPages DWORD ?
      dwSavedDCContext ULONG_PTR ?
      fpAliasedVidMem FLATPTR ?
      dwDriverReserved ULONG_PTR ?
      dwHELReserved ULONG_PTR ?
      cPageUnlocks DWORD ?
      hKernelSurface ULONG_PTR ?
      dwKernelRefCnt DWORD ?
      lpColorInfo LPDDCOLORCONTROL ?
      fpNTAlias FLATPTR ?
      dwContentsStamp DWORD ?
      lpvUnswappedDriverReserved LPVOID ?
      lpDDRAWReserved2 LPVOID ?
      dwDDRAWReserved1 DWORD ?
      dwDDRAWReserved2 DWORD ?
      fpAliasOfVidMem FLATPTR ?
    DDRAWI_DDRAWSURFACE_GBL_MORE ends

    _DDRAWI_DDRAWSURFACE_GBL_MORE typedef DDRAWI_DDRAWSURFACE_GBL_MORE
    DDRAWI_DDRAWSURFACE_MORE struct
      dwSize DWORD ?
      lpIUnknowns POINTER ?
      lpDD_lcl LPDDRAWI_DIRECTDRAW_LCL ?
      dwPageLockCount DWORD ?
      dwBytesAllocated DWORD ?
      lpDD_int LPDDRAWI_DIRECTDRAW_INT ?
      dwMipMapCount DWORD ?
      lpDDIClipper LPDDRAWI_DDRAWCLIPPER_INT ?
      lpHeapAliasInfo LPHEAPALIASINFO ?
      dwOverlayFlags DWORD ?
      rgjunc POINTER ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      lpddOverlayFX LPDDOVERLAYFX ?
      ddsCapsEx DDSCAPSEX <>
      dwTextureStage DWORD ?
      lpDDRAWReserved LPVOID ?
      lpDDRAWReserved2 LPVOID ?
      lpDDrawReserved3 LPVOID ?
      dwDDrawReserved4 DWORD ?
      lpDDrawReserved5 LPVOID ?
      lpGammaRamp LPDWORD ?
      lpOriginalGammaRamp LPDWORD ?
      lpDDrawReserved6 LPVOID ?
      ifndef WIN95
        dmiDDrawReserved7 DISPLAYMODEINFO <>
      endif
      dwSurfaceHandle DWORD ?
      qwDDrawReserved8 DWORD 2 dup (?)
      lpDDrawReserved9 LPVOID ?
      cSurfaces DWORD ?
      pCreatedDDSurfaceDesc2 LPDDSURFACEDESC2 ?
      slist POINTER ?
      dwFVF DWORD ?
      lpVB LPVOID ?
    DDRAWI_DDRAWSURFACE_MORE ends

    _DDRAWI_DDRAWSURFACE_MORE typedef DDRAWI_DDRAWSURFACE_MORE
    PFINDEX_UNINITIALIZED equ 0
    PFINDEX_UNSUPPORTED equ (not 0)
    _DDRAWI_DDRAWSURFACE_LCL struct
      lpSurfMore LPDDRAWI_DDRAWSURFACE_MORE ?
      lpGbl LPDDRAWI_DDRAWSURFACE_GBL ?
      hDDSurface ULONG_PTR ?
      lpAttachList LPATTACHLIST ?
      lpAttachListFrom LPATTACHLIST ?
      dwLocalRefCnt DWORD ?
      dwProcessId DWORD ?
      dwFlags DWORD ?
      ddsCaps DDSCAPS <>
      union
        lpDDPalette LPDDRAWI_DDRAWPALETTE_INT ?
        lp16DDPalette LPDDRAWI_DDRAWPALETTE_INT ?
      ends
      union
        lpDDClipper LPDDRAWI_DDRAWCLIPPER_LCL ?
        lp16DDClipper LPDDRAWI_DDRAWCLIPPER_INT ?
      ends
      dwModeCreatedIn DWORD ?
      dwBackBufferCount DWORD ?
      ddckCKDestBlt DDCOLORKEY <>
      ddckCKSrcBlt DDCOLORKEY <>
      hDC ULONG_PTR ?
      dwReserved1 ULONG_PTR ?
      ddckCKSrcOverlay DDCOLORKEY <>
      ddckCKDestOverlay DDCOLORKEY <>
      lpSurfaceOverlaying LPDDRAWI_DDRAWSURFACE_INT ?
      dbnOverlayNode DBLNODE <>
      rcOverlaySrc RECT <>
      rcOverlayDest RECT <>
      dwClrXparent DWORD ?
      dwAlpha DWORD ?
      lOverlayX LONG ?
      lOverlayY LONG ?
    _DDRAWI_DDRAWSURFACE_LCL ends

    DDRAWI_DDRAWSURFACE_LCL typedef _DDRAWI_DDRAWSURFACE_LCL
    
    DDRAWISURFGBL_MEMFREE equ 00000001h
    DDRAWISURFGBL_SYSMEMREQUESTED equ 00000002h
    DDRAWISURFGBL_ISGDISURFACE equ 00000004h
    DDRAWISURFGBL_SOFTWAREAUTOFLIP equ 00000008h
    DDRAWISURFGBL_LOCKNOTHOLDINGWIN16LOCK equ 00000010h
    DDRAWISURFGBL_LOCKVRAMSTYLE equ 00000020h
    DDRAWISURFGBL_LOCKBROKEN equ 00000040h
    DDRAWISURFGBL_IMPLICITHANDLE equ 00000080h
    DDRAWISURFGBL_ISCLIENTMEM equ 00000100h
    DDRAWISURFGBL_HARDWAREOPSOURCE equ 00000200h
    DDRAWISURFGBL_HARDWAREOPDEST equ 00000400h
    DDRAWISURFGBL_HARDWAREOPSTARTED equ <(DDRAWISURFGBL_HARDWAREOPSOURCE or DDRAWISURFGBL_HARDWAREOPDEST)>
    DDRAWISURFGBL_VPORTINTERLEAVED equ 00000800h
    DDRAWISURFGBL_VPORTDATA equ 00001000h
    DDRAWISURFGBL_LATEALLOCATELINEAR equ 00002000h
    DDRAWISURFGBL_SYSMEMEXECUTEBUFFER equ 00004000h
    DDRAWISURFGBL_FASTLOCKHELD equ 00008000h
    DDRAWISURFGBL_READONLYLOCKHELD equ 00010000h
    DDRAWISURFGBL_DX8SURFACE equ 00080000h
    DDRAWISURFGBL_DDHELDONTFREE equ 00100000h
    DDRAWISURFGBL_NOTIFYWHENUNLOCKED equ 00200000h
    DDRAWISURFGBL_RESERVED0 equ 80000000h
    DDRAWISURF_ATTACHED equ 00000001h
    DDRAWISURF_IMPLICITCREATE equ 00000002h
    DDRAWISURF_ISFREE equ 00000004h
    DDRAWISURF_ATTACHED_FROM equ 00000008h
    DDRAWISURF_IMPLICITROOT equ 00000010h
    DDRAWISURF_PARTOFPRIMARYCHAIN equ 00000020h
    DDRAWISURF_DATAISALIASED equ 00000040h
    DDRAWISURF_HASDC equ 00000080h
    DDRAWISURF_HASCKEYDESTOVERLAY equ 00000100h
    DDRAWISURF_HASCKEYDESTBLT equ 00000200h
    DDRAWISURF_HASCKEYSRCOVERLAY equ 00000400h
    DDRAWISURF_HASCKEYSRCBLT equ 00000800h
    DDRAWISURF_LOCKEXCLUDEDCURSOR equ 00001000h
    DDRAWISURF_HASPIXELFORMAT equ 00002000h
    DDRAWISURF_HASOVERLAYDATA equ 00004000h
    DDRAWISURF_SETGAMMA equ 00008000h
    DDRAWISURF_SW_CKEYDESTOVERLAY equ 00010000h
    DDRAWISURF_SW_CKEYDESTBLT equ 00020000h
    DDRAWISURF_SW_CKEYSRCOVERLAY equ 00040000h
    DDRAWISURF_SW_CKEYSRCBLT equ 00080000h
    DDRAWISURF_HW_CKEYDESTOVERLAY equ 00100000h
    DDRAWISURF_HW_CKEYDESTBLT equ 00200000h
    DDRAWISURF_HW_CKEYSRCOVERLAY equ 00400000h
    DDRAWISURF_HW_CKEYSRCBLT equ 00800000h
    DDRAWISURF_INMASTERSPRITELIST equ 01000000h
    DDRAWISURF_HELCB equ 02000000h
    DDRAWISURF_FRONTBUFFER equ 04000000h
    DDRAWISURF_BACKBUFFER equ 08000000h
    DDRAWISURF_INVALID equ 10000000h
    DDRAWISURF_DCIBUSY equ 20000000h
    DDRAWISURF_GETDCNULL equ 40000000h
    DDRAWISURF_STEREOSURFACELEFT equ 20000000h
    DDRAWISURF_DRIVERMANAGED equ 40000000h
    DDRAWISURF_DCILOCK equ 80000000h
    ROP_HAS_SOURCE equ 00000001h
    ROP_HAS_PATTERN equ 00000002h
    ROP_HAS_SOURCEPATTERN equ <ROP_HAS_SOURCE or ROP_HAS_PATTERN>
    DDHALMODEINFO struct
      dwWidth DWORD ?
      dwHeight DWORD ?
      lPitch LONG ?
      dwBPP DWORD ?
      wFlags WORD ?
      wRefreshRate WORD ?
      dwRBitMask DWORD ?
      dwGBitMask DWORD ?
      dwBBitMask DWORD ?
      dwAlphaBitMask DWORD ?
    DDHALMODEINFO ends

    _DDHALMODEINFO typedef DDHALMODEINFO
    LPDDHALMODEINFO typedef ptr DDHALMODEINFO
    DDMODEINFO_PALETTIZED equ 0001h
    DDMODEINFO_MODEX equ 0002h
    DDMODEINFO_UNSUPPORTED equ 0004h
    DDMODEINFO_STANDARDVGA equ 0008h
    DDMODEINFO_MAXREFRESH equ 0010h
    DDMODEINFO_STEREO equ 0020h
    DDRAWI_DIRECTDRAW_INT struct
      lpVtbl LPVOID ?
      lpLcl LPDDRAWI_DIRECTDRAW_LCL ?
      lpLink LPDDRAWI_DIRECTDRAW_INT ?
      dwIntRefCnt DWORD ?
    DDRAWI_DIRECTDRAW_INT ends

    _DDRAWI_DIRECTDRAW_INT typedef DDRAWI_DIRECTDRAW_INT
    DDHAL_CALLBACKS struct
      cbDDCallbacks DDHAL_DDCALLBACKS <>
      cbDDSurfaceCallbacks DDHAL_DDSURFACECALLBACKS <>
      cbDDPaletteCallbacks DDHAL_DDPALETTECALLBACKS <>
      HALDD DDHAL_DDCALLBACKS <>
      HALDDSurface DDHAL_DDSURFACECALLBACKS <>
      HALDDPalette DDHAL_DDPALETTECALLBACKS <>
      HELDD DDHAL_DDCALLBACKS <>
      HELDDSurface DDHAL_DDSURFACECALLBACKS <>
      HELDDPalette DDHAL_DDPALETTECALLBACKS <>
      cbDDExeBufCallbacks DDHAL_DDEXEBUFCALLBACKS <>
      HALDDExeBuf DDHAL_DDEXEBUFCALLBACKS <>
      HELDDExeBuf DDHAL_DDEXEBUFCALLBACKS <>
      cbDDVideoPortCallbacks DDHAL_DDVIDEOPORTCALLBACKS <>
      HALDDVideoPort DDHAL_DDVIDEOPORTCALLBACKS <>
      cbDDColorControlCallbacks DDHAL_DDCOLORCONTROLCALLBACKS <>
      HALDDColorControl DDHAL_DDCOLORCONTROLCALLBACKS <>
      cbDDMiscellaneousCallbacks DDHAL_DDMISCELLANEOUSCALLBACKS <>
      HALDDMiscellaneous DDHAL_DDMISCELLANEOUSCALLBACKS <>
      cbDDKernelCallbacks DDHAL_DDKERNELCALLBACKS <>
      HALDDKernel DDHAL_DDKERNELCALLBACKS <>
      cbDDMotionCompCallbacks DDHAL_DDMOTIONCOMPCALLBACKS <>
      HALDDMotionComp DDHAL_DDMOTIONCOMPCALLBACKS <>
    DDHAL_CALLBACKS ends

    _DDHAL_CALLBACKS typedef DDHAL_CALLBACKS
    LPDDHAL_CALLBACKS typedef ptr DDHAL_CALLBACKS
    
    DDCORECAPS struct
      dwSize DWORD ?
      dwCaps DWORD ?
      dwCaps2 DWORD ?
      dwCKeyCaps DWORD ?
      dwFXCaps DWORD ?
      dwFXAlphaCaps DWORD ?
      dwPalCaps DWORD ?
      dwSVCaps DWORD ?
      dwAlphaBltConstBitDepths DWORD ?
      dwAlphaBltPixelBitDepths DWORD ?
      dwAlphaBltSurfaceBitDepths DWORD ?
      dwAlphaOverlayConstBitDepths DWORD ?
      dwAlphaOverlayPixelBitDepths DWORD ?
      dwAlphaOverlaySurfaceBitDepths DWORD ?
      dwZBufferBitDepths DWORD ?
      dwVidMemTotal DWORD ?
      dwVidMemFree DWORD ?
      dwMaxVisibleOverlays DWORD ?
      dwCurrVisibleOverlays DWORD ?
      dwNumFourCCCodes DWORD ?
      dwAlignBoundarySrc DWORD ?
      dwAlignSizeSrc DWORD ?
      dwAlignBoundaryDest DWORD ?
      dwAlignSizeDest DWORD ?
      dwAlignStrideAlign DWORD ?
      dwRops DWORD DD_ROP_SPACE dup (?)
      ddsCaps DDSCAPS <>
      dwMinOverlayStretch DWORD ?
      dwMaxOverlayStretch DWORD ?
      dwMinLiveVideoStretch DWORD ?
      dwMaxLiveVideoStretch DWORD ?
      dwMinHwCodecStretch DWORD ?
      dwMaxHwCodecStretch DWORD ?
      dwReserved1 DWORD ?
      dwReserved2 DWORD ?
      dwReserved3 DWORD ?
      dwSVBCaps DWORD ?
      dwSVBCKeyCaps DWORD ?
      dwSVBFXCaps DWORD ?
      dwSVBRops DWORD DD_ROP_SPACE dup (?)
      dwVSBCaps DWORD ?
      dwVSBCKeyCaps DWORD ?
      dwVSBFXCaps DWORD ?
      dwVSBRops DWORD DD_ROP_SPACE dup (?)
      dwSSBCaps DWORD ?
      dwSSBCKeyCaps DWORD ?
      dwSSBFXCaps DWORD ?
      dwSSBRops DWORD DD_ROP_SPACE dup (?)
      dwMaxVideoPorts DWORD ?
      dwCurrVideoPorts DWORD ?
      dwSVBCaps2 DWORD ?
    DDCORECAPS ends

    _DDCORECAPS typedef DDCORECAPS
    LPDDCORECAPS typedef ptr DDCORECAPS
    DDRAWI_DIRECTDRAW_GBL struct
      dwRefCnt DWORD ?
      dwFlags DWORD ?
      fpPrimaryOrig FLATPTR ?
      ddCaps DDCORECAPS <>
      dwInternal1 DWORD ?
      dwUnused1 DWORD 9 dup (?)
      lpDDCBtmp LPDDHAL_CALLBACKS ?
      dsList LPDDRAWI_DDRAWSURFACE_INT ?
      palList LPDDRAWI_DDRAWPALETTE_INT ?
      clipperList LPDDRAWI_DDRAWCLIPPER_INT ?
      lp16DD LPDDRAWI_DIRECTDRAW_GBL ?
      dwMaxOverlays DWORD ?
      dwCurrOverlays DWORD ?
      dwMonitorFrequency DWORD ?
      ddHELCaps DDCORECAPS <>
      dwUnused2 DWORD 50 dup (?)
      ddckCKDestOverlay DDCOLORKEY <>
      ddckCKSrcOverlay DDCOLORKEY <>
      vmiData VIDMEMINFO <>
      lpDriverHandle LPVOID ?
      lpExclusiveOwner LPDDRAWI_DIRECTDRAW_LCL ?
      dwModeIndex DWORD ?
      dwModeIndexOrig DWORD ?
      dwNumFourCC DWORD ?
      lpdwFourCC POINTER ?
      dwNumModes DWORD ?
      lpModeInfo LPDDHALMODEINFO ?
      plProcessList PROCESS_LIST <>
      dwSurfaceLockCount DWORD ?
      dwAliasedLockCnt DWORD ?
      dwReserved3 ULONG_PTR ?
      hDD ULONG_PTR ?
      cObsolete SBYTE 12 dup (?)
      dwReserved1 DWORD ?
      dwReserved2 DWORD ?
      dbnOverlayRoot DBLNODE <>
      lpwPDeviceFlags LPWORD ?
      dwPDevice DWORD ?
      dwWin16LockCnt DWORD ?
      dwUnused3 DWORD ?
      hInstance DWORD ?
      dwEvent16 DWORD ?
      dwSaveNumModes DWORD ?
      lpD3DGlobalDriverData ULONG_PTR ?
      lpD3DHALCallbacks ULONG_PTR ?
      ddBothCaps DDCORECAPS <>
      lpDDVideoPortCaps LPDDVIDEOPORTCAPS ?
      dvpList LPDDRAWI_DDVIDEOPORT_INT ?
      lpD3DHALCallbacks2 ULONG_PTR ?
      rectDevice RECT <>
      cMonitors DWORD ?
      gpbmiSrc LPVOID ?
      gpbmiDest LPVOID ?
      phaiHeapAliases LPHEAPALIASINFO ?
      hKernelHandle ULONG_PTR ?
      pfnNotifyProc ULONG_PTR ?
      lpDDKernelCaps LPDDKERNELCAPS ?
      lpddNLVCaps LPDDNONLOCALVIDMEMCAPS ?
      lpddNLVHELCaps LPDDNONLOCALVIDMEMCAPS ?
      lpddNLVBothCaps LPDDNONLOCALVIDMEMCAPS ?
      lpD3DExtendedCaps ULONG_PTR ?
      dwDOSBoxEvent DWORD ?
      rectDesktop RECT <>
      cDriverName SBYTE MAX_DRIVER_NAME dup (?)
      lpD3DHALCallbacks3 ULONG_PTR ?
      dwNumZPixelFormats DWORD ?
      lpZPixelFormats LPDDPIXELFORMAT ?
      mcList LPDDRAWI_DDMOTIONCOMP_INT ?
      hDDVxd DWORD ?
      ddsCapsMore DDSCAPSEX <>
    DDRAWI_DIRECTDRAW_GBL ends

    _DDRAWI_DIRECTDRAW_GBL typedef DDRAWI_DIRECTDRAW_GBL
    DDRAWI_DIRECTDRAW_LCL struct
      lpDDMore DWORD ?
      lpGbl LPDDRAWI_DIRECTDRAW_GBL ?
      dwUnused0 DWORD ?
      dwLocalFlags DWORD ?
      dwLocalRefCnt DWORD ?
      dwProcessId DWORD ?
      pUnkOuter POINTER ?
      dwObsolete1 DWORD ?
      hWnd ULONG_PTR ?
      hDC ULONG_PTR ?
      dwErrorMode DWORD ?
      lpPrimary LPDDRAWI_DDRAWSURFACE_INT ?
      lpCB LPDDRAWI_DDRAWSURFACE_INT ?
      dwPreferredMode DWORD ?
      hD3DInstance HINSTANCE ?
      pD3DIUnknown POINTER ?
      lpDDCB LPDDHAL_CALLBACKS ?
      hDDVxd ULONG_PTR ?
      dwAppHackFlags DWORD ?
      hFocusWnd ULONG_PTR ?
      dwHotTracking DWORD ?
      dwIMEState DWORD ?
      hWndPopup ULONG_PTR ?
      hDD ULONG_PTR ?
      hGammaCalibrator ULONG_PTR ?
      lpGammaCalibrator LPDDGAMMACALIBRATORPROC ?
    DDRAWI_DIRECTDRAW_LCL ends

    _DDRAWI_DIRECTDRAW_LCL typedef DDRAWI_DIRECTDRAW_LCL
    DDRAWILCL_HASEXCLUSIVEMODE equ 00000001h
    DDRAWILCL_ISFULLSCREEN equ 00000002h
    DDRAWILCL_SETCOOPCALLED equ 00000004h
    DDRAWILCL_ACTIVEYES equ 00000008h
    DDRAWILCL_ACTIVENO equ 00000010h
    DDRAWILCL_HOOKEDHWND equ 00000020h
    DDRAWILCL_ALLOWMODEX equ 00000040h
    DDRAWILCL_V1SCLBEHAVIOUR equ 00000080h
    DDRAWILCL_MODEHASBEENCHANGED equ 00000100h
    DDRAWILCL_CREATEDWINDOW equ 00000200h
    DDRAWILCL_DIRTYDC equ 00000400h
    DDRAWILCL_DISABLEINACTIVATE equ 00000800h
    DDRAWILCL_CURSORCLIPPED equ 00001000h
    DDRAWILCL_EXPLICITMONITOR equ 00002000h
    DDRAWILCL_MULTITHREADED equ 00004000h
    DDRAWILCL_FPUSETUP equ 00008000h
    DDRAWILCL_POWEREDDOWN equ 00010000h
    DDRAWILCL_DIRECTDRAW7 equ 00020000h
    DDRAWILCL_ATTEMPTEDD3DCONTEXT equ 00040000h
    DDRAWILCL_FPUPRESERVE equ 00080000h
    DDRAWILCL_DX8DRIVER equ 00100000h
    DDRAWILCL_DIRECTDRAW8 equ 00200000h
    DDRAWI_xxxxxxxxx1 equ 00000001h
    DDRAWI_xxxxxxxxx2 equ 00000002h
    DDRAWI_VIRTUALDESKTOP equ 00000008h
    DDRAWI_MODEX equ 00000010h
    DDRAWI_DISPLAYDRV equ 00000020h
    DDRAWI_FULLSCREEN equ 00000040h
    DDRAWI_MODECHANGED equ 00000080h
    DDRAWI_NOHARDWARE equ 00000100h
    DDRAWI_PALETTEINIT equ 00000200h
    DDRAWI_NOEMULATION equ 00000400h
    DDRAWI_HASCKEYDESTOVERLAY equ 00000800h
    DDRAWI_HASCKEYSRCOVERLAY equ 00001000h
    DDRAWI_HASGDIPALETTE equ 00002000h
    DDRAWI_EMULATIONINITIALIZED equ 00004000h
    DDRAWI_HASGDIPALETTE_EXCLUSIVE equ 00008000h
    DDRAWI_MODEXILLEGAL equ 00010000h
    DDRAWI_FLIPPEDTOGDI equ 00020000h
    DDRAWI_NEEDSWIN16FORVRAMLOCK equ 00040000h
    DDRAWI_PDEVICEVRAMBITCLEARED equ 00080000h
    DDRAWI_STANDARDVGA equ 00100000h
    DDRAWI_EXTENDEDALIGNMENT equ 00200000h
    DDRAWI_CHANGINGMODE equ 00400000h
    DDRAWI_GDIDRV equ 00800000h
    DDRAWI_ATTACHEDTODESKTOP equ 01000000h
    DDRAWI_UMODELOADED equ 02000000h
    DDRAWI_DDRAWDATANOTFETCHED equ 04000000h
    DDRAWI_SECONDARYDRIVERLOADED equ 08000000h
    DDRAWI_TESTINGMODES equ 10000000h
    DDRAWI_DRIVERINFO2 equ 20000000h
    DDRAWI_BADPDEV equ 40000000h
    DDRAWI_DDVIDEOPORT_INT struct
      lpVtbl LPVOID ?
      lpLcl LPDDRAWI_DDVIDEOPORT_LCL ?
      lpLink LPDDRAWI_DDVIDEOPORT_INT ?
      dwIntRefCnt DWORD ?
      dwFlags DWORD ?
    DDRAWI_DDVIDEOPORT_INT ends

    _DDRAWI_DDVIDEOPORT_INT typedef DDRAWI_DDVIDEOPORT_INT
    DDRAWI_DDVIDEOPORT_LCL struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      ddvpDesc DDVIDEOPORTDESC <>
      ddvpInfo DDVIDEOPORTINFO <>
      lpSurface LPDDRAWI_DDRAWSURFACE_INT ?
      lpVBISurface LPDDRAWI_DDRAWSURFACE_INT ?
      lpFlipInts POINTER ?
      dwNumAutoflip DWORD ?
      dwProcessID DWORD ?
      dwStateFlags DWORD ?
      dwFlags DWORD ?
      dwRefCnt DWORD ?
      fpLastFlip FLATPTR ?
      dwReserved1 ULONG_PTR ?
      dwReserved2 ULONG_PTR ?
      hDDVideoPort HANDLE ?
      dwNumVBIAutoflip DWORD ?
      lpVBIDesc LPDDVIDEOPORTDESC ?
      lpVideoDesc LPDDVIDEOPORTDESC ?
      lpVBIInfo LPDDVIDEOPORTINFO ?
      lpVideoInfo LPDDVIDEOPORTINFO ?
      dwVBIProcessID DWORD ?
      lpVPNotify LPDDRAWI_DDVIDEOPORT_INT ?
    DDRAWI_DDVIDEOPORT_LCL ends

    _DDRAWI_DDVIDEOPORT_LCL typedef DDRAWI_DDVIDEOPORT_LCL
    DDRAWIVPORT_ON equ 00000001h
    DDRAWIVPORT_SOFTWARE_AUTOFLIP equ 00000002h
    DDRAWIVPORT_COLORKEYANDINTERP equ 00000004h
    DDRAWIVPORT_NOKERNELHANDLES equ 00000008h
    DDRAWIVPORT_SOFTWARE_BOB equ 00000010h
    DDRAWIVPORT_VBION equ 00000020h
    DDRAWIVPORT_VIDEOON equ 00000040h
    DDRAWI_DDMOTIONCOMP_INT struct
      lpVtbl LPVOID ?
      lpLcl LPDDRAWI_DDMOTIONCOMP_LCL ?
      lpLink LPDDRAWI_DDMOTIONCOMP_INT ?
      dwIntRefCnt DWORD ?
    DDRAWI_DDMOTIONCOMP_INT ends

    _DDRAWI_DDMOTIONCOMP_INT typedef DDRAWI_DDMOTIONCOMP_INT
    DDRAWI_DDMOTIONCOMP_LCL struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      guid GUID <>
      dwUncompWidth DWORD ?
      dwUncompHeight DWORD ?
      ddUncompPixelFormat DDPIXELFORMAT <>
      dwInternalFlags DWORD ?
      dwRefCnt DWORD ?
      dwProcessId DWORD ?
      hMoComp HANDLE ?
      dwDriverReserved1 DWORD ?
      dwDriverReserved2 DWORD ?
      dwDriverReserved3 DWORD ?
      lpDriverReserved1 LPVOID ?
      lpDriverReserved2 LPVOID ?
      lpDriverReserved3 LPVOID ?
    DDRAWI_DDMOTIONCOMP_LCL ends

    _DDRAWI_DDMOTIONCOMP_LCL typedef DDRAWI_DDMOTIONCOMP_LCL
    DDHALINFO struct
      dwSize DWORD ?
      lpDDCallbacks LPDDHAL_DDCALLBACKS ?
      lpDDSurfaceCallbacks LPDDHAL_DDSURFACECALLBACKS ?
      lpDDPaletteCallbacks LPDDHAL_DDPALETTECALLBACKS ?
      vmiData VIDMEMINFO <>
      ddCaps DDCORECAPS <>
      dwMonitorFrequency DWORD ?
      GetDriverInfo LPDDHAL_GETDRIVERINFO ?
      dwModeIndex DWORD ?
      lpdwFourCC LPDWORD ?
      dwNumModes DWORD ?
      lpModeInfo LPDDHALMODEINFO ?
      dwFlags DWORD ?
      lpPDevice LPVOID ?
      hInstance DWORD ?
      lpD3DGlobalDriverData ULONG_PTR ?
      lpD3DHALCallbacks ULONG_PTR ?
      lpDDExeBufCallbacks LPDDHAL_DDEXEBUFCALLBACKS ?
    DDHALINFO ends

    _DDHALINFO typedef DDHALINFO
    LPDDHALINFO typedef ptr DDHALINFO
    DDHALINFOSIZE_V2 equ <sizeof(DDHALINFO)>
    DDHALINFO_ISPRIMARYDISPLAY equ 00000001h
    DDHALINFO_MODEXILLEGAL equ 00000002h
    DDHALINFO_GETDRIVERINFOSET equ 00000004h
    DDHALINFO_GETDRIVERINFO2 equ 00000008h
    TYPE_LPDDHAL_SETINFO typedef proto WIN_STD_CALL_CONV :LPDDHALINFO, :BOOL
    LPDDHAL_SETINFO typedef ptr TYPE_LPDDHAL_SETINFO
    TYPE_LPDDHAL_VIDMEMALLOC typedef proto WIN_STD_CALL_CONV :LPDDRAWI_DIRECTDRAW_GBL, :SDWORD, :DWORD, :DWORD
    LPDDHAL_VIDMEMALLOC typedef ptr TYPE_LPDDHAL_VIDMEMALLOC
    TYPE_LPDDHAL_VIDMEMFREE typedef proto WIN_STD_CALL_CONV :LPDDRAWI_DIRECTDRAW_GBL, :SDWORD, :FLATPTR
    LPDDHAL_VIDMEMFREE typedef ptr TYPE_LPDDHAL_VIDMEMFREE
    DDHAL_SetInfo proto WIN_STD_CALL_CONV :LPDDHALINFO, :BOOL
    DDHAL_VidMemAlloc proto WIN_STD_CALL_CONV :LPDDRAWI_DIRECTDRAW_GBL, :SDWORD, :DWORD, :DWORD
    DDHAL_VidMemFree proto WIN_STD_CALL_CONV :LPDDRAWI_DIRECTDRAW_GBL, :SDWORD, :FLATPTR
    DDHALDDRAWFNS struct
      dwSize DWORD ?
      lpSetInfo LPDDHAL_SETINFO ?
      lpVidMemAlloc LPDDHAL_VIDMEMALLOC ?
      lpVidMemFree LPDDHAL_VIDMEMFREE ?
    DDHALDDRAWFNS ends

    LPDDHALDDRAWFNS typedef ptr DDHALDDRAWFNS
    DDHAL_BLTDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDDestSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      rDest RECTL <>
      lpDDSrcSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      rSrc RECTL <>
      dwFlags DWORD ?
      dwROPFlags DWORD ?
      bltFX DDBLTFX <>
      ddRVal HRESULT ?
      Blt LPDDHALSURFCB_BLT ?
      IsClipped BOOL ?
      rOrigDest RECTL <>
      rOrigSrc RECTL <>
      dwRectCnt DWORD ?
      prDestRects LPRECT ?
    DDHAL_BLTDATA ends

    _DDHAL_BLTDATA typedef DDHAL_BLTDATA
    DDHAL_LOCKDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      bHasRect DWORD ?
      rArea RECTL <>
      lpSurfData LPVOID ?
      ddRVal HRESULT ?
      Lock_ LPDDHALSURFCB_LOCK ?
      dwFlags DWORD ?
    DDHAL_LOCKDATA ends

    _DDHAL_LOCKDATA typedef DDHAL_LOCKDATA
    DDHAL_UNLOCKDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      ddRVal HRESULT ?
      Unlock LPDDHALSURFCB_UNLOCK ?
    DDHAL_UNLOCKDATA ends

    _DDHAL_UNLOCKDATA typedef DDHAL_UNLOCKDATA
    DDHAL_UPDATEOVERLAYDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDDestSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      rDest RECTL <>
      lpDDSrcSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      rSrc RECTL <>
      dwFlags DWORD ?
      overlayFX DDOVERLAYFX <>
      ddRVal HRESULT ?
      UpdateOverlay LPDDHALSURFCB_UPDATEOVERLAY ?
    DDHAL_UPDATEOVERLAYDATA ends

    _DDHAL_UPDATEOVERLAYDATA typedef DDHAL_UPDATEOVERLAYDATA
    DDHAL_SETOVERLAYPOSITIONDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSrcSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      lpDDDestSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      lXPos LONG ?
      lYPos LONG ?
      ddRVal HRESULT ?
      SetOverlayPosition LPDDHALSURFCB_SETOVERLAYPOSITION ?
    DDHAL_SETOVERLAYPOSITIONDATA ends

    _DDHAL_SETOVERLAYPOSITIONDATA typedef DDHAL_SETOVERLAYPOSITIONDATA
    DDHAL_SETPALETTEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      lpDDPalette LPDDRAWI_DDRAWPALETTE_GBL ?
      ddRVal HRESULT ?
      SetPalette LPDDHALSURFCB_SETPALETTE ?
      Attach BOOL ?
    DDHAL_SETPALETTEDATA ends

    _DDHAL_SETPALETTEDATA typedef DDHAL_SETPALETTEDATA
    DDHAL_FLIPDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpSurfCurr LPDDRAWI_DDRAWSURFACE_LCL ?
      lpSurfTarg LPDDRAWI_DDRAWSURFACE_LCL ?
      dwFlags DWORD ?
      ddRVal HRESULT ?
      Flip LPDDHALSURFCB_FLIP ?
      lpSurfCurrLeft LPDDRAWI_DDRAWSURFACE_LCL ?
      lpSurfTargLeft LPDDRAWI_DDRAWSURFACE_LCL ?
    DDHAL_FLIPDATA ends

    _DDHAL_FLIPDATA typedef DDHAL_FLIPDATA
    DDHAL_DESTROYSURFACEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      ddRVal HRESULT ?
      DestroySurface LPDDHALSURFCB_DESTROYSURFACE ?
    DDHAL_DESTROYSURFACEDATA ends

    _DDHAL_DESTROYSURFACEDATA typedef DDHAL_DESTROYSURFACEDATA
    DDHAL_SETCLIPLISTDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      ddRVal HRESULT ?
      SetClipList LPDDHALSURFCB_SETCLIPLIST ?
    DDHAL_SETCLIPLISTDATA ends

    _DDHAL_SETCLIPLISTDATA typedef DDHAL_SETCLIPLISTDATA
    DDHAL_ADDATTACHEDSURFACEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      lpSurfAttached LPDDRAWI_DDRAWSURFACE_LCL ?
      ddRVal HRESULT ?
      AddAttachedSurface LPDDHALSURFCB_ADDATTACHEDSURFACE ?
    DDHAL_ADDATTACHEDSURFACEDATA ends

    _DDHAL_ADDATTACHEDSURFACEDATA typedef DDHAL_ADDATTACHEDSURFACEDATA
    DDHAL_SETCOLORKEYDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      dwFlags DWORD ?
      ckNew DDCOLORKEY <>
      ddRVal HRESULT ?
      SetColorKey LPDDHALSURFCB_SETCOLORKEY ?
    DDHAL_SETCOLORKEYDATA ends

    _DDHAL_SETCOLORKEYDATA typedef DDHAL_SETCOLORKEYDATA
    DDHAL_GETBLTSTATUSDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      dwFlags DWORD ?
      ddRVal HRESULT ?
      GetBltStatus LPDDHALSURFCB_GETBLTSTATUS ?
    DDHAL_GETBLTSTATUSDATA ends

    _DDHAL_GETBLTSTATUSDATA typedef DDHAL_GETBLTSTATUSDATA
    DDHAL_GETFLIPSTATUSDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      dwFlags DWORD ?
      ddRVal HRESULT ?
      GetFlipStatus LPDDHALSURFCB_GETFLIPSTATUS ?
    DDHAL_GETFLIPSTATUSDATA ends

    _DDHAL_GETFLIPSTATUSDATA typedef DDHAL_GETFLIPSTATUSDATA
    DDHAL_DESTROYPALETTEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDPalette LPDDRAWI_DDRAWPALETTE_GBL ?
      ddRVal HRESULT ?
      DestroyPalette LPDDHALPALCB_DESTROYPALETTE ?
    DDHAL_DESTROYPALETTEDATA ends

    _DDHAL_DESTROYPALETTEDATA typedef DDHAL_DESTROYPALETTEDATA
    DDHAL_SETENTRIESDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDPalette LPDDRAWI_DDRAWPALETTE_GBL ?
      dwBase DWORD ?
      dwNumEntries DWORD ?
      lpEntries LPPALETTEENTRY ?
      ddRVal HRESULT ?
      SetEntries LPDDHALPALCB_SETENTRIES ?
    DDHAL_SETENTRIESDATA ends

    _DDHAL_SETENTRIESDATA typedef DDHAL_SETENTRIESDATA
    DDHAL_CREATESURFACEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurfaceDesc LPDDSURFACEDESC ?
      lplpSList POINTER ?
      dwSCnt DWORD ?
      ddRVal HRESULT ?
      CreateSurface LPDDHAL_CREATESURFACE ?
    DDHAL_CREATESURFACEDATA ends

    _DDHAL_CREATESURFACEDATA typedef DDHAL_CREATESURFACEDATA
    DDHAL_CANCREATESURFACEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurfaceDesc LPDDSURFACEDESC ?
      bIsDifferentPixelFormat DWORD ?
      ddRVal HRESULT ?
      CanCreateSurface LPDDHAL_CANCREATESURFACE ?
    DDHAL_CANCREATESURFACEDATA ends

    _DDHAL_CANCREATESURFACEDATA typedef DDHAL_CANCREATESURFACEDATA
    DDHAL_CREATEPALETTEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDPalette LPDDRAWI_DDRAWPALETTE_GBL ?
      lpColorTable LPPALETTEENTRY ?
      ddRVal HRESULT ?
      CreatePalette LPDDHAL_CREATEPALETTE ?
      is_excl BOOL ?
    DDHAL_CREATEPALETTEDATA ends

    _DDHAL_CREATEPALETTEDATA typedef DDHAL_CREATEPALETTEDATA
    DDWAITVB_I_TESTVB equ 80000006h
    DDHAL_WAITFORVERTICALBLANKDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      dwFlags DWORD ?
      bIsInVB DWORD ?
      hEvent ULONG_PTR ?
      ddRVal HRESULT ?
      WaitForVerticalBlank LPDDHAL_WAITFORVERTICALBLANK ?
    DDHAL_WAITFORVERTICALBLANKDATA ends

    _DDHAL_WAITFORVERTICALBLANKDATA typedef DDHAL_WAITFORVERTICALBLANKDATA
    DDHAL_DESTROYDRIVERDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      ddRVal HRESULT ?
      DestroyDriver LPDDHAL_DESTROYDRIVER ?
    DDHAL_DESTROYDRIVERDATA ends

    _DDHAL_DESTROYDRIVERDATA typedef DDHAL_DESTROYDRIVERDATA
    DDHAL_SETMODEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      dwModeIndex DWORD ?
      ddRVal HRESULT ?
      SetMode LPDDHAL_SETMODE ?
      inexcl BOOL ?
      useRefreshRate BOOL ?
    DDHAL_SETMODEDATA ends

    _DDHAL_SETMODEDATA typedef DDHAL_SETMODEDATA
    DDHAL_DRVSETCOLORKEYDATA struct
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      dwFlags DWORD ?
      ckNew DDCOLORKEY <>
      ddRVal HRESULT ?
      SetColorKey LPDDHAL_SETCOLORKEY ?
    DDHAL_DRVSETCOLORKEYDATA ends

    _DDHAL_DRVSETCOLORKEYDATA typedef DDHAL_DRVSETCOLORKEYDATA
    DDHAL_GETSCANLINEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      dwScanLine DWORD ?
      ddRVal HRESULT ?
      GetScanLine LPDDHAL_GETSCANLINE ?
    DDHAL_GETSCANLINEDATA ends

    _DDHAL_GETSCANLINEDATA typedef DDHAL_GETSCANLINEDATA
    DDHAL_SETEXCLUSIVEMODEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      dwEnterExcl DWORD ?
      dwReserved DWORD ?
      ddRVal HRESULT ?
      SetExclusiveMode LPDDHAL_SETEXCLUSIVEMODE ?
    DDHAL_SETEXCLUSIVEMODEDATA ends

    _DDHAL_SETEXCLUSIVEMODEDATA typedef DDHAL_SETEXCLUSIVEMODEDATA
    DDHAL_FLIPTOGDISURFACEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      dwToGDI DWORD ?
      dwReserved DWORD ?
      ddRVal HRESULT ?
      FlipToGDISurface LPDDHAL_FLIPTOGDISURFACE ?
    DDHAL_FLIPTOGDISURFACEDATA ends

    _DDHAL_FLIPTOGDISURFACEDATA typedef DDHAL_FLIPTOGDISURFACEDATA
    DDHAL_CANCREATEVPORTDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpDDVideoPortDesc LPDDVIDEOPORTDESC ?
      ddRVal HRESULT ?
      CanCreateVideoPort LPDDHALVPORTCB_CANCREATEVIDEOPORT ?
    DDHAL_CANCREATEVPORTDATA ends

    _DDHAL_CANCREATEVPORTDATA typedef DDHAL_CANCREATEVPORTDATA
    DDHAL_CREATEVPORTDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpDDVideoPortDesc LPDDVIDEOPORTDESC ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      ddRVal HRESULT ?
      CreateVideoPort LPDDHALVPORTCB_CREATEVIDEOPORT ?
    DDHAL_CREATEVPORTDATA ends

    _DDHAL_CREATEVPORTDATA typedef DDHAL_CREATEVPORTDATA
    DDHAL_FLIPVPORTDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      lpSurfCurr LPDDRAWI_DDRAWSURFACE_LCL ?
      lpSurfTarg LPDDRAWI_DDRAWSURFACE_LCL ?
      ddRVal HRESULT ?
      FlipVideoPort LPDDHALVPORTCB_FLIP ?
    DDHAL_FLIPVPORTDATA ends

    _DDHAL_FLIPVPORTDATA typedef DDHAL_FLIPVPORTDATA
    DDHAL_GETVPORTBANDWIDTHDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      lpddpfFormat LPDDPIXELFORMAT ?
      dwWidth DWORD ?
      dwHeight DWORD ?
      dwFlags DWORD ?
      lpBandwidth LPDDVIDEOPORTBANDWIDTH ?
      ddRVal HRESULT ?
      GetVideoPortBandwidth LPDDHALVPORTCB_GETBANDWIDTH ?
    DDHAL_GETVPORTBANDWIDTHDATA ends

    _DDHAL_GETVPORTBANDWIDTHDATA typedef DDHAL_GETVPORTBANDWIDTHDATA
    DDHAL_GETVPORTINPUTFORMATDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      dwFlags DWORD ?
      lpddpfFormat LPDDPIXELFORMAT ?
      dwNumFormats DWORD ?
      ddRVal HRESULT ?
      GetVideoPortInputFormats LPDDHALVPORTCB_GETINPUTFORMATS ?
    DDHAL_GETVPORTINPUTFORMATDATA ends

    _DDHAL_GETVPORTINPUTFORMATDATA typedef DDHAL_GETVPORTINPUTFORMATDATA
    DDHAL_GETVPORTOUTPUTFORMATDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      dwFlags DWORD ?
      lpddpfInputFormat LPDDPIXELFORMAT ?
      lpddpfOutputFormats LPDDPIXELFORMAT ?
      dwNumFormats DWORD ?
      ddRVal HRESULT ?
      GetVideoPortOutputFormats LPDDHALVPORTCB_GETOUTPUTFORMATS ?
    DDHAL_GETVPORTOUTPUTFORMATDATA ends

    _DDHAL_GETVPORTOUTPUTFORMATDATA typedef DDHAL_GETVPORTOUTPUTFORMATDATA
    DDHAL_GETVPORTFIELDDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      bField BOOL ?
      ddRVal HRESULT ?
      GetVideoPortField LPDDHALVPORTCB_GETFIELD ?
    DDHAL_GETVPORTFIELDDATA ends

    _DDHAL_GETVPORTFIELDDATA typedef DDHAL_GETVPORTFIELDDATA
    DDHAL_GETVPORTLINEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      dwLine DWORD ?
      ddRVal HRESULT ?
      GetVideoPortLine LPDDHALVPORTCB_GETLINE ?
    DDHAL_GETVPORTLINEDATA ends

    _DDHAL_GETVPORTLINEDATA typedef DDHAL_GETVPORTLINEDATA
    DDHAL_GETVPORTCONNECTDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      dwPortId DWORD ?
      lpConnect LPDDVIDEOPORTCONNECT ?
      dwNumEntries DWORD ?
      ddRVal HRESULT ?
      GetVideoPortConnectInfo LPDDHALVPORTCB_GETVPORTCONNECT ?
    DDHAL_GETVPORTCONNECTDATA ends

    _DDHAL_GETVPORTCONNECTDATA typedef DDHAL_GETVPORTCONNECTDATA
    DDHAL_DESTROYVPORTDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      ddRVal HRESULT ?
      DestroyVideoPort LPDDHALVPORTCB_DESTROYVPORT ?
    DDHAL_DESTROYVPORTDATA ends

    _DDHAL_DESTROYVPORTDATA typedef DDHAL_DESTROYVPORTDATA
    DDHAL_GETVPORTFLIPSTATUSDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      fpSurface FLATPTR ?
      ddRVal HRESULT ?
      GetVideoPortFlipStatus LPDDHALVPORTCB_GETFLIPSTATUS ?
    DDHAL_GETVPORTFLIPSTATUSDATA ends

    _DDHAL_GETVPORTFLIPSTATUSDATA typedef DDHAL_GETVPORTFLIPSTATUSDATA
    DDHAL_UPDATEVPORTDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      lplpDDSurface POINTER ?
      lplpDDVBISurface POINTER ?
      lpVideoInfo LPDDVIDEOPORTINFO ?
      dwFlags DWORD ?
      dwNumAutoflip DWORD ?
      dwNumVBIAutoflip DWORD ?
      ddRVal HRESULT ?
      UpdateVideoPort LPDDHALVPORTCB_UPDATE ?
    DDHAL_UPDATEVPORTDATA ends

    _DDHAL_UPDATEVPORTDATA typedef DDHAL_UPDATEVPORTDATA
    DDRAWI_VPORTSTART equ 0001h
    DDRAWI_VPORTSTOP equ 0002h
    DDRAWI_VPORTUPDATE equ 0003h
    DDHAL_WAITFORVPORTSYNCDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      dwFlags DWORD ?
      dwLine DWORD ?
      dwTimeOut DWORD ?
      ddRVal HRESULT ?
      WaitForVideoPortSync LPDDHALVPORTCB_WAITFORSYNC ?
    DDHAL_WAITFORVPORTSYNCDATA ends

    _DDHAL_WAITFORVPORTSYNCDATA typedef DDHAL_WAITFORVPORTSYNCDATA
    DDHAL_GETVPORTSIGNALDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      dwStatus DWORD ?
      ddRVal HRESULT ?
      GetVideoSignalStatus LPDDHALVPORTCB_GETSIGNALSTATUS ?
    DDHAL_GETVPORTSIGNALDATA ends

    _DDHAL_GETVPORTSIGNALDATA typedef DDHAL_GETVPORTSIGNALDATA
    DDHAL_VPORTCOLORDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      dwFlags DWORD ?
      lpColorData LPDDCOLORCONTROL ?
      ddRVal HRESULT ?
      ColorControl LPDDHALVPORTCB_COLORCONTROL ?
    DDHAL_VPORTCOLORDATA ends

    _DDHAL_VPORTCOLORDATA typedef DDHAL_VPORTCOLORDATA
    DDRAWI_VPORTGETCOLOR equ 0001h
    DDRAWI_VPORTSETCOLOR equ 0002h
    DDHAL_COLORCONTROLDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      lpColorData LPDDCOLORCONTROL ?
      dwFlags DWORD ?
      ddRVal HRESULT ?
      ColorControl LPDDHALCOLORCB_COLORCONTROL ?
    DDHAL_COLORCONTROLDATA ends

    _DDHAL_COLORCONTROLDATA typedef DDHAL_COLORCONTROLDATA
    DDRAWI_GETCOLOR equ 0001h
    DDRAWI_SETCOLOR equ 0002h
    DDHAL_GETDRIVERINFODATA struct
      dwSize DWORD ?
      dwFlags DWORD ?
      guidInfo GUID <>
      dwExpectedSize DWORD ?
      lpvData LPVOID ?
      dwActualSize DWORD ?
      ddRVal HRESULT ?
      dwContext ULONG_PTR ?
    DDHAL_GETDRIVERINFODATA ends

    _DDHAL_GETDRIVERINFODATA typedef DDHAL_GETDRIVERINFODATA
    DDHAL_GETAVAILDRIVERMEMORYDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      DDSCaps DDSCAPS <>
      dwTotal DWORD ?
      dwFree DWORD ?
      ddRVal HRESULT ?
      GetAvailDriverMemory LPDDHAL_GETAVAILDRIVERMEMORY ?
      ddsCapsEx DDSCAPSEX <>
    DDHAL_GETAVAILDRIVERMEMORYDATA ends

    _DDHAL_GETAVAILDRIVERMEMORYDATA typedef DDHAL_GETAVAILDRIVERMEMORYDATA
    DDHAL_UPDATENONLOCALHEAPDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_GBL ?
      dwHeap DWORD ?
      fpGARTLin FLATPTR ?
      fpGARTDev FLATPTR ?
      ulPolicyMaxBytes ULONG_PTR ?
      ddRVal HRESULT ?
      UpdateNonLocalHeap LPDDHAL_UPDATENONLOCALHEAP ?
    DDHAL_UPDATENONLOCALHEAPDATA ends

    _DDHAL_UPDATENONLOCALHEAPDATA typedef DDHAL_UPDATENONLOCALHEAPDATA
    DDHAL_GETHEAPALIGNMENTDATA struct
      dwInstance ULONG_PTR ?
      dwHeap DWORD ?
      ddRVal HRESULT ?
      GetHeapAlignment LPDDHAL_GETHEAPALIGNMENT ?
      Alignment HEAPALIGNMENT <>
    DDHAL_GETHEAPALIGNMENTDATA ends

    _DDHAL_GETHEAPALIGNMENTDATA typedef DDHAL_GETHEAPALIGNMENTDATA
    DDHAL_ALIGNVALIDCAPS equ <(DDSCAPS_OFFSCREENPLAIN or DDSCAPS_EXECUTEBUFFER or DDSCAPS_OVERLAY or DDSCAPS_TEXTURE or DDSCAPS_ZBUFFER or DDSCAPS_ALPHA or DDSCAPS_FLIP)>
    DDHAL_CREATESURFACEEXDATA struct
      dwFlags DWORD ?
      lpDDLcl LPDDRAWI_DIRECTDRAW_LCL ?
      lpDDSLcl LPDDRAWI_DDRAWSURFACE_LCL ?
      ddRVal HRESULT ?
    DDHAL_CREATESURFACEEXDATA ends

    _DDHAL_CREATESURFACEEXDATA typedef DDHAL_CREATESURFACEEXDATA
    DDHAL_GETDRIVERSTATEDATA struct
      dwFlags DWORD ?
      union
        dwhContext ULONG_PTR ?
      ends
      lpdwStates LPDWORD ?
      dwLength DWORD ?
      ddRVal HRESULT ?
    DDHAL_GETDRIVERSTATEDATA ends

    _DDHAL_GETDRIVERSTATEDATA typedef DDHAL_GETDRIVERSTATEDATA
    DDHAL_DESTROYDDLOCALDATA struct
      dwFlags DWORD ?
      pDDLcl LPDDRAWI_DIRECTDRAW_LCL ?
      ddRVal HRESULT ?
    DDHAL_DESTROYDDLOCALDATA ends

    _DDHAL_DESTROYDDLOCALDATA typedef DDHAL_DESTROYDDLOCALDATA
    DDHAL_SYNCSURFACEDATA struct
      dwSize DWORD ?
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpDDSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      dwSurfaceOffset DWORD ?
      fpLockPtr ULONG_PTR ?
      lPitch LONG ?
      dwOverlayOffset DWORD ?
      dwOverlaySrcWidth DWORD ?
      dwOverlaySrcHeight DWORD ?
      dwOverlayDestWidth DWORD ?
      dwOverlayDestHeight DWORD ?
      dwDriverReserved1 ULONG_PTR ?
      dwDriverReserved2 ULONG_PTR ?
      dwDriverReserved3 ULONG_PTR ?
      ddRVal HRESULT ?
    DDHAL_SYNCSURFACEDATA ends

    _DDHAL_SYNCSURFACEDATA typedef DDHAL_SYNCSURFACEDATA
    DDHAL_SYNCVIDEOPORTDATA struct
      dwSize DWORD ?
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpVideoPort LPDDRAWI_DDVIDEOPORT_LCL ?
      dwOriginOffset DWORD ?
      dwHeight DWORD ?
      dwVBIHeight DWORD ?
      dwDriverReserved1 ULONG_PTR ?
      dwDriverReserved2 ULONG_PTR ?
      dwDriverReserved3 ULONG_PTR ?
      ddRVal HRESULT ?
    DDHAL_SYNCVIDEOPORTDATA ends

    _DDHAL_SYNCVIDEOPORTDATA typedef DDHAL_SYNCVIDEOPORTDATA
    DDHAL_GETMOCOMPGUIDSDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      dwNumGuids DWORD ?
      lpGuids LPGUID ?
      ddRVal HRESULT ?
      GetMoCompGuids LPDDHALMOCOMPCB_GETGUIDS ?
    DDHAL_GETMOCOMPGUIDSDATA ends

    _DDHAL_GETMOCOMPGUIDSDATA typedef DDHAL_GETMOCOMPGUIDSDATA
    DDHAL_GETMOCOMPFORMATSDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpGuid LPGUID ?
      dwNumFormats DWORD ?
      lpFormats LPDDPIXELFORMAT ?
      ddRVal HRESULT ?
      GetMoCompFormats LPDDHALMOCOMPCB_GETFORMATS ?
    DDHAL_GETMOCOMPFORMATSDATA ends

    _DDHAL_GETMOCOMPFORMATSDATA typedef DDHAL_GETMOCOMPFORMATSDATA
    DDHAL_CREATEMOCOMPDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpMoComp LPDDRAWI_DDMOTIONCOMP_LCL ?
      lpGuid LPGUID ?
      dwUncompWidth DWORD ?
      dwUncompHeight DWORD ?
      ddUncompPixelFormat DDPIXELFORMAT <>
      lpData LPVOID ?
      dwDataSize DWORD ?
      ddRVal HRESULT ?
      CreateMoComp LPDDHALMOCOMPCB_CREATE ?
    DDHAL_CREATEMOCOMPDATA ends

    _DDHAL_CREATEMOCOMPDATA typedef DDHAL_CREATEMOCOMPDATA
    DDMCCOMPBUFFERINFO struct
      dwSize DWORD ?
      dwNumCompBuffers DWORD ?
      dwWidthToCreate DWORD ?
      dwHeightToCreate DWORD ?
      dwBytesToAllocate DWORD ?
      ddCompCaps DDSCAPS2 <>
      ddPixelFormat DDPIXELFORMAT <>
    DDMCCOMPBUFFERINFO ends

    _DDMCCOMPBUFFERINFO typedef DDMCCOMPBUFFERINFO
    LPDDMCCOMPBUFFERINFO typedef ptr DDMCCOMPBUFFERINFO
    
    DDHAL_GETMOCOMPCOMPBUFFDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpGuid LPGUID ?
      dwWidth DWORD ?
      dwHeight DWORD ?
      ddPixelFormat DDPIXELFORMAT <>
      dwNumTypesCompBuffs DWORD ?
      lpCompBuffInfo LPDDMCCOMPBUFFERINFO ?
      ddRVal HRESULT ?
      GetMoCompBuffInfo LPDDHALMOCOMPCB_GETCOMPBUFFINFO ?
    DDHAL_GETMOCOMPCOMPBUFFDATA ends

    _DDHAL_GETMOCOMPCOMPBUFFDATA typedef DDHAL_GETMOCOMPCOMPBUFFDATA
    DDHAL_GETINTERNALMOCOMPDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpGuid LPGUID ?
      dwWidth DWORD ?
      dwHeight DWORD ?
      ddPixelFormat DDPIXELFORMAT <>
      dwScratchMemAlloc DWORD ?
      ddRVal HRESULT ?
      GetInternalMoCompInfo LPDDHALMOCOMPCB_GETINTERNALINFO ?
    DDHAL_GETINTERNALMOCOMPDATA ends

    _DDHAL_GETINTERNALMOCOMPDATA typedef DDHAL_GETINTERNALMOCOMPDATA
    DDHAL_BEGINMOCOMPFRAMEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpMoComp LPDDRAWI_DDMOTIONCOMP_LCL ?
      lpDestSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      dwInputDataSize DWORD ?
      lpInputData LPVOID ?
      dwOutputDataSize DWORD ?
      lpOutputData LPVOID ?
      ddRVal HRESULT ?
      BeginMoCompFrame LPDDHALMOCOMPCB_BEGINFRAME ?
    DDHAL_BEGINMOCOMPFRAMEDATA ends

    _DDHAL_BEGINMOCOMPFRAMEDATA typedef DDHAL_BEGINMOCOMPFRAMEDATA
    DDHAL_ENDMOCOMPFRAMEDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpMoComp LPDDRAWI_DDMOTIONCOMP_LCL ?
      lpInputData LPVOID ?
      dwInputDataSize DWORD ?
      ddRVal HRESULT ?
      EndMoCompFrame LPDDHALMOCOMPCB_ENDFRAME ?
    DDHAL_ENDMOCOMPFRAMEDATA ends

    _DDHAL_ENDMOCOMPFRAMEDATA typedef DDHAL_ENDMOCOMPFRAMEDATA
    DDMCBUFFERINFO struct
      dwSize DWORD ?
      lpCompSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      dwDataOffset DWORD ?
      dwDataSize DWORD ?
      lpPrivate LPVOID ?
    DDMCBUFFERINFO ends

    _DDMCBUFFERINFO typedef DDMCBUFFERINFO
    LPDDMCBUFFERINFO typedef ptr DDMCBUFFERINFO
    
    DDHAL_RENDERMOCOMPDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpMoComp LPDDRAWI_DDMOTIONCOMP_LCL ?
      dwNumBuffers DWORD ?
      lpBufferInfo LPDDMCBUFFERINFO ?
      dwFunction DWORD ?
      lpInputData LPVOID ?
      dwInputDataSize DWORD ?
      lpOutputData LPVOID ?
      dwOutputDataSize DWORD ?
      ddRVal HRESULT ?
      RenderMoComp LPDDHALMOCOMPCB_RENDER ?
    DDHAL_RENDERMOCOMPDATA ends

    _DDHAL_RENDERMOCOMPDATA typedef DDHAL_RENDERMOCOMPDATA
    DDHAL_QUERYMOCOMPSTATUSDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpMoComp LPDDRAWI_DDMOTIONCOMP_LCL ?
      lpSurface LPDDRAWI_DDRAWSURFACE_LCL ?
      dwFlags DWORD ?
      ddRVal HRESULT ?
      QueryMoCompStatus LPDDHALMOCOMPCB_QUERYSTATUS ?
    DDHAL_QUERYMOCOMPSTATUSDATA ends

    _DDHAL_QUERYMOCOMPSTATUSDATA typedef DDHAL_QUERYMOCOMPSTATUSDATA
    DDMCQUERY_READ equ 00000001h
    DDHAL_DESTROYMOCOMPDATA struct
      lpDD LPDDRAWI_DIRECTDRAW_LCL ?
      lpMoComp LPDDRAWI_DDMOTIONCOMP_LCL ?
      ddRVal HRESULT ?
      DestroyMoComp LPDDHALMOCOMPCB_DESTROY ?
    DDHAL_DESTROYMOCOMPDATA ends

    _DDHAL_DESTROYMOCOMPDATA typedef DDHAL_DESTROYMOCOMPDATA
    ifdef __cplusplus
      ;[...]
    endif
  endif
endif

